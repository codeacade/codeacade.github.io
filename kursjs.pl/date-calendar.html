<!doctype html>
<html lang="pl-PL">
<head>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Kurs Javascript - Tworzymy kalendarz</title>
	<meta name="description" content="Kurs Javascript dla superbohaterów, artykuły, tutoriale, porady, zadania do wykonania" />
    <link rel="canonical" href="https://kursjs.pl/kurs/date/date-calendar.php" />
	<link rel="stylesheet" href="./css.css" />
    <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono:400,700&display=swap&subset=latin-ext" rel="stylesheet">
	<meta name="image" content="https://kursjs.pl/kursjs.png">
<meta name="twitter:card" content="product">
<meta name="twitter:site" content="@publisher_handle">
<meta name="twitter:title" content="Kurs Javascript">
<meta name="twitter:description" content="Kurs Javascript dla superbohaterów">
<meta name="twitter:creator" content="@kartofelek007">
<meta name="twitter:image" content="https://kursjs.pl/kursjs.png">
<meta property="og:title" content="Kurs Javascript">
<meta property="og:type" content="article">
<meta property="og:url" content="https://www.kursjs.com/">
<meta property="og:image" content="https://kursjs.pl/kursjs.png">
<meta property="og:description" content="Kurs Javascript dla superbohaterów">
<meta property="og:site_name" content="Kurs Javascript">
<link rel="apple-touch-icon" sizes="57x57" href="/favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<meta name="msapplication-TileColor" content="#FF6347">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <script src="/js/jquery.min.js"></script>
</head>
<body>

<div class="page-container" id="pageContainer">
	<div class="page-content-wrapper">
        <main class="page-content" id="mainContent"  data-text-for-print="Kurs Javascript dla superbohaterów">
                        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <div class="rekl-cnt">
                <ins
                class="adsbygoogle"
                style="display:block"
                data-ad-client="ca-pub-6843603045703750"
                data-ad-slot="4690777640"
                data-ad-format="auto"
                data-full-width-responsive="true"
                ></ins>
            </div>
                        <div class="page-content-text">
<style>
.input-calendar-cnt {
    position: relative;
    display: inline-block;
}
.input-calendar {
    background-image: url(./icon-calendar.png);
    background-position: 99% center;
    background-repeat: no-repeat;
    border:1px solid #ddd;
    cursor: pointer;
}
.calendar {
    position: absolute;
    top:100%;
    left:0;
    width: 300px;
    background: #fff;
    min-height: 300px;
    padding: 5px;
    border: 1px solid #ddd;
    box-shadow:2px 2px 1px rgba(0,0,0,0.1);
    font-family: sans-serif;
    display: none;
    z-index: 100;
}
.calendar.calendar-show {
    display: block;
}
.calendar-prev-next {
    height:30px;
    display: flex;
    justify-content: space-between;
}
.calendar .input-prev,
.calendar .input-next {
    position: relative;
    z-index: 1;
    cursor:pointer;
    width: 30px;
    font-family: sans-serif;
    background-color: transparent;
    border:0;
    color: #333;
}
.calendar .input-prev:hover,
.calendar .input-next:hover {
    background:#D1EBFD;
}

.calendar .date-name {
    font-size:12px;
    color: #666;
    padding: 0 40px;
    text-align: center;
    line-height: 30px;
    position: absolute;
    left:0;
    top:0;
    width:100%;
    box-sizing: border-box;
}
.calendar .calendar-header {
    height:30px;
    position: relative;
}
.calendar .calendar-table-cnt {
    position: relative;
    padding-top:10px;}
.calendar .calendar-table {
    font-size:12px;
    color: #666;
    width: 100%;
}
.calendar .calendar-table td {
    text-align: center;
    width:14.2857%;
}
.calendar .calendar-table th {
    font-family: sans-serif;
    font-weight: normal;
    padding-bottom: 10px;
    font-size:11px;
    color:#aaa;
}
.calendar .calendar-table td.day {
    background: #fafafa;
    height:40px;
    font-size:11px;
    font-family: sans-serif;
    font-weight:bold;
}
.calendar .calendar-table td.day:hover {
    background: #D1EBFD;
    cursor: pointer
}
.calendar .calendar-table td.current-day {
    background-color: #F15C5C;
    color:#fff;
}
.calendar .calendar-table td.current-day:hover {
    background-color: #DE5858;
}
</style>

<h1 class="page-title">Tworzymy kalendarz</h1>

<p>
    W tym artykule spróbujemy stworzyć prosty datepicker, czyli kalendarz przy polu, którzy pozwala pobierać datę.
</p>

<p>Rezultat naszych działań możesz zobaczyć poniżej. Kliknij na pole tekstowe. Potem włącz pole kalendarzowe a następnie znowu kliknij na pole tekstowe.</p>



<p>
    <input type="text" class="input-demo"><br><br>
    <button class="button" type="button" id="enableDemo1">Włącz kalendarzowy input</button>
</p>

<script>
(function() {
    function Calendar(input, options) {
        this.now = new Date();
        this.day = this.now.getDate();
        this.month = this.now.getMonth();
        this.year = this.now.getFullYear();
        this.input = input;
        this.divCnt = null;
        this.divTable = null;
        this.divDateText = null;
        this.divButtons = null;

        const defaultOptions = {
            closeOnSelect : false,
            onDateSelect : function(day, month, year) {
                const monthText = ((month + 1) < 10) ? "0" + (month + 1) : month + 1;
                const dayText =  (day < 10) ? "0" + day : day;
                this.input.value = dayText + '-' + monthText + '-' + this.year;
            }.bind(this)
        };
        this.options = Object.assign({}, defaultOptions, options);

        //metoda tworząca guziczki
        this.createButtons = function () {
            const buttonPrev = document.createElement('button');
            buttonPrev.innerText = '<';
            buttonPrev.type = "button";
            buttonPrev.classList.add('input-prev');
            buttonPrev.addEventListener('click', function () {
                this.month--;
                if (this.month < 0) {
                    this.month = 11;
                    this.year--;
                }
                this.createCalendarTable();
                this.createDateText();
            }.bind(this));
            this.divButtons.appendChild(buttonPrev);

            const buttonNext = document.createElement('button');
            buttonNext.classList.add('input-next');
            buttonNext.innerText = '>';
            buttonNext.type = "button";
            buttonNext.addEventListener('click', function () {
                this.month++;
                if (this.month > 11) {
                    this.month = 0;
                    this.year++;
                }
                this.createCalendarTable();
                this.createDateText();
            }.bind(this));
            this.divButtons.appendChild(buttonNext);
        };

        this.createDateText = function () {
            const monthNames = ['styczeń', 'luty', 'marzec', 'kwiecień', 'maj', 'czerwiec', 'lipiec', 'sierpień', 'wrzesień', 'październik', 'listopad', 'grudzień'];

            this.divDateText.innerHTML = monthNames[this.month] + ' ' + this.year;
        };

        //metoda tworzaca tabele z kalendarzem
        this.createCalendarTable = function () {
            this.divTable.innerHTML = '';

            //tworzymy tabelę z dniami kalendarza
            const tab = document.createElement('table');
            tab.classList.add('calendar-table');

            //tworzymy naglowki dni
            let tr = document.createElement('tr');
            tr.classList.add('calendar-table-days-names');
            const days = ['Pon', 'Wto', 'Śro', 'Czw', 'Pią', 'Sob', 'Nie'];
            for (let i=0; i<days.length; i++) {
                const th = document.createElement('th');
                th.innerHTML = days[i];
                tr.appendChild(th);
            }
            tab.appendChild(tr);


            const daysInMonth = new Date(this.year, this.month+1, 0).getDate();

            const tempDate = new Date(this.year, this.month, 1);
            let firstMonthDay = tempDate.getDay();


            if (firstMonthDay === 0) {
                firstMonthDay = 7;
            }

            const j = daysInMonth + firstMonthDay - 1;

            if (firstMonthDay - 1 !== 0) {
                tr = document.createElement('tr');
                tab.appendChild(tr);
            }

            for (let i=0; i < firstMonthDay - 1; i++) {
                const td = document.createElement('td');
                td.innerHTML = '';
                tr.appendChild(td);
            }

            for (let i = firstMonthDay-1; i<j; i++) {
                if (i % 7 === 0){
                    tr = document.createElement('tr');
                    tab.appendChild(tr);
                }

                const td = document.createElement('td');
                td.innerText = i - firstMonthDay + 2;
                td.dayNr = i - firstMonthDay + 2;
                td.classList.add('day');

                if (this.year === this.now.getFullYear() && this.month === this.now.getMonth() && this.day === i - firstMonthDay + 2) {
                    td.classList.add('current-day')
                }

                tr.appendChild(td);
            }

            tab.appendChild(tr);

            this.divTable.appendChild(tab);
        };

        this.bindTableDaysEvent = function() {
            this.divTable.addEventListener('click', function(e) {
                if (e.target.tagName.toLowerCase() === 'td' && e.target.classList.contains('day')) {
                    const month2 = ((this.month + 1) < 10) ? "0" + (this.month + 1) : this.month + 1;

                    //this.input.value = e.target.dayNr + '-' + month + '-' + this.year;
                    if (this.options.closeOnSelect) {
                        this.hide();
                    }
                    this.options.onDateSelect(e.target.dayNr, this.month + 1, this.year);
                }
            }.bind(this));
        };

        this.toggleShow = function() {
            this.divCnt.classList.toggle('calendar-show');
        };

        this.show = function() {
            this.divCnt.classList.add('calendar-show');
        };

        this.hide = function() {
            this.divCnt.classList.remove('calendar-show');
        };

        //metoda inicjujaca obiekt
        this.init = function () {
            //tworzymy div z całą zawartością
            this.divCnt = document.createElement('div');
            this.divCnt.classList.add('calendar');

            //tworzymy wrapper dla input
            this.calendarWrapper = document.createElement('div');
            this.calendarWrapper.classList.add('input-calendar-cnt');
            this.input.parentElement.insertBefore(this.calendarWrapper, this.input);
            this.calendarWrapper.appendChild(this.input);

            //tworzymy div z guzikami
            this.divButtons = document.createElement('div');
            this.divButtons.className = "calendar-prev-next";
            this.createButtons();

            //tworzymy div z nazwą miesiąca
            this.divDateText = document.createElement('div');
            this.divDateText.className = 'date-name';
            this.createDateText();

            this.divHeader = document.createElement('div');
            this.divHeader.classList.add('calendar-header');

            this.divHeader.appendChild(this.divButtons);
            this.divHeader.appendChild(this.divDateText);
            this.divCnt.appendChild(this.divHeader);

            //tworzymy div z tabelą.calendara
            this.divTable = document.createElement('div');
            this.divTable.className = 'calendar-table-cnt';
            this.divCnt.appendChild(this.divTable);
            this.createCalendarTable();
            this.bindTableDaysEvent();

            this.input.classList.add('input-calendar');
            this.input.addEventListener('click', function() {
                this.toggleShow();
            }.bind(this));


            this.input.addEventListener('click', function(e) {
                e.stopImmediatePropagation();
            });
            this.divCnt.addEventListener('click', function(e) {
                e.stopImmediatePropagation();
            });
            document.addEventListener('click', function() {
                this.hide();
            }.bind(this));

            //nasz div z zawartością wrzucamy na koniec body
            this.calendarWrapper.appendChild(this.divCnt);
        };
    }

    //metoda dla inputwo - zamienia inputy na kalendarzowe
    document.querySelector('#enableDemo1').addEventListener('click', function() {
        this.disabled = true;
        const input = document.querySelector('.input-demo');
        const cal = new Calendar(input, {
            closeOnSelect : true,
            onDateSelect : function(day, month, year) {
                const dayText = (day<10)?'0'+day : day;
                const monthText = (month<10)?'0'+month : month;
                const date = dayText + '-' + monthText + '-' + year;
                input.value = date;
            }
        });
        cal.init();
    });
})();
</script>

<div class="kartofel-informuje">
    <p>Artykuł ten traktuj jako formę treningu, poznanie kilku metod, które możesz w przyszłości wykorzystać  - np. do stworzenia kalendarza o zupełnie innym wyglądzie.<br>
    W praktyce ręczne tworzenie takiego datepickera staje się trochę sztuką dla sztuki, ponieważ na rynku istnieją już naprawdę dobre pluginy do takich rzeczy - chociażby <a href="http://amsul.ca/pickadate.js/">pickadate.js</a> czy <a href="https://eonasdan.github.io/bootstrap-datetimepicker/">Bootstrap Datepicker</a>.
    </p>
</div>

<!-- ### -->
<h2 class="subtitle" id="id">Konstruktor kalendarza</h2>

<p>
    Kalendarz będzie mógł być podpięty pod dowolną liczbę pól, dlatego nasze obiekty będziemy tworzyć w oparciu o wspólny wzór, czyli na bazie <a href="../obiekty/obiekty-konstruktor.php">konstruktora</a>:
</p>

<pre><code class="language-js">
function Calendar(input) {
    this.now = new Date();
    this.day = this.now.getDate();
    this.month = this.now.getMonth();
    this.year = this.now.getFullYear();

    this.input = input; //zmienna trzymająca referencję do inputa tekstowego do którego podepniemy kalendarz
    this.divCnt = null; //kontener kalendarza
    this.divHeader = null; //nagłówek kalendarza
    this.divTable = null; //kontener tabeli z kalendarzem
    this.divDateText = null; //kontener z nazwą miesiąca i roku
    this.divButtons = null; //kontener z przyciskami przełączającymi miesiąc
}
</code></pre>

<p>Pierwsze zmienne jakie tworzymy wykorzystamy przy renderowaniu dni i przełączaniu dat kalendarza.</p>
<p>Kolejne zmienne będą zawierały w sobie części layotu według poniższej grafiki:</p>

<img src="./calendar.png" alt="Kalendarz" class="space">

<!-- ### -->
<h2 class="subtitle" id="id">Tworzenie layoutu kalendarza</h2>
<p>
    Pierwszą metodą którą napiszemy będzie metoda <strong>init()</strong>,
    która stworzy składowe naszego kalendarza oraz odpali kilka metod. Na początku skupmy się na składowych layoutu kalendarza:
</p>

<pre><code class="language-js">
function Calendar = function() {
    ...

    //metoda inicjująca
    this.init = function () {
        //kontener całego kalendarza
        this.divCnt = document.createElement('div');
        this.divCnt.classList.add('calendar');

        //tworzymy div zawierający przyciski prev, next
        this.divButtons = document.createElement('div');
        this.divButtons.className = "calendar-prev-next";

        //tworzymy div z nazwą miesiąca i roku
        this.divDateText = document.createElement('div');
        this.divDateText.className = 'date-name';

        //div z przyciskami prev, next i div z nazwą miesiąca
        //wrzucamy do wspólnego div .calendar-header - dla lepszej logiki
        this.divHeader = document.createElement('div');
        this.divHeader.classList.add('calendar-header');

        this.divHeader.appendChild(this.divButtons);
        this.divHeader.appendChild(this.divDateText);
        this.divCnt.appendChild(this.divHeader);

        //tworzymy div do którego trafi tabela kalendarza
        this.divTable = document.createElement('div');
        this.divTable.className = 'calendar-table-cnt';
        this.divCnt.appendChild(this.divTable);
    };
};
</code></pre>

<p>Od razu dodajmy stylowanie dla tych elementów. Nie jest to kurs CSS, dlatego nie będę się tutaj skupiać na samych stylach (ale jak chcesz <a href="../kontakt.php">daj znać</a> to się powalczy):</p>

<pre><code class="language-css">
/* wrapper dla inputa kalendarza */
.input-calendar-cnt {
    position: relative;
    display: inline-block;
}

/* input kalendarza */
.input-calendar {
    background-image: url(./icon-calendar.png);
    background-position: 99% center;
    background-repeat: no-repeat;
    border:1px solid #ddd;
    cursor:pointer;
}

/* kalendarz */
.calendar {
    position: absolute;
    top:100%;
    left:0;
    width: 300px;
    background: #fff;
    min-height: 300px;
    padding: 5px;
    border: 1px solid #ddd;
    box-shadow:2px 2px 1px rgba(0,0,0,0.1);
    font-family: sans-serif;
    display: block;
    z-index: 100;
}
/* przyciski prev-next */
.calendar-prev-next {
    height:30px;
    display: flex;
    justify-content: space-between;
}
.calendar .input-prev,
.calendar .input-next {
    position: relative;
    z-index: 1;
    cursor:pointer;
    width: 30px;
    font-family: sans-serif;
    background-color: transparent;
    border:0;
    color: #333;
}
.calendar .input-prev:hover,
.calendar .input-next:hover {
    background:#D1EBFD;
}

/* nazwa miesiąca i roku */
.calendar .date-name {
    font-size:12px;
    color: #666;
    padding: 0 40px;
    text-align: center;
    line-height: 30px;
    position: absolute;
    left:0;
    top:0;
    width:100%;
    text-align: center;
    box-sizing: border-box;
}

/* nagłówek kalendarza */
.calendar .calendar-header {
    height:30px;
    position: relative;
}

/* tabela kalendarza */
.calendar .calendar-table-cnt {
    position: relative;
    padding-top:10px;
}
.calendar .calendar-table {
    font-size:12px;
    color: #666;
    width: 100%;
}
.calendar .calendar-table td {
    text-align: center;
    width:14.2857%;
}
.calendar .calendar-table th {
    font-family: sans-serif;
    font-weight: normal;
    padding-bottom: 10px;
    font-size:11px;
    color:#aaa;
}
.calendar .calendar-table td.day {
    background: #fafafa;
    height:40px;
    font-size:11px;
    font-family: sans-serif;
    font-weight:bold;
}
.calendar .calendar-table td.day:hover {
    background: #D1EBFD;
    cursor: pointer
}
.calendar .calendar-table td.current-day {
    background-color: #F15C5C;
    color:#fff;
}
.calendar .calendar-table td.current-day:hover {
    background-color: #DE5858;
}
</code></pre>

<p id="wrapperDlaInputa">Po kliknięciu na input, kalendarz będzie się pojawiał pod takim polem (zresztą widać to na powyższym demie).<br>
Moglibyśmy wrzucać nasz kalendarz bezpośrednio do body i pozycjonować go
absolutnie pobierając pozycję inputa (offsetTop i offsetLeft), ale jest to problematyczne rozwiązanie.<br>
Struktura formularza czy samej strony może się dynamicznie zmieniać (np. mogą powyżej naszego pola dochodzić dynamicznie generowane elementy)
co zmuszało by nas do każdorazowego wyliczania pozycji kalendarza na nowo.<br>
O wiele łatwiejszym podejściem jest pozycjonować kalendarz względem elementu, którym okryjemy nasz input (pamiętaj - pozycjonowanie absolutne jest względem pierwszego rodzica, który ma pozycjonowanie inne niż static):
</p>

<img src="./calendar-position.png" alt="pozycjonowanie kalendarza">


<pre data-line="35-39"><code class="language-js">
function Calendar = function() {
    ...

    //metoda inicjująca obiekt
    this.init = function () {
        //zmieniany inputowi dodaję klasę - doda ona ikonkę kalendarza i zmieni jego kursor
        this.input.classList.add('input-calendar');

        //kontener całego kalendarza
        this.divCnt = document.createElement('div');
        this.divCnt.classList.add('calendar');

        //tworzymy div zawierający przyciski prev, next
        this.divButtons = document.createElement('div');
        this.divButtons.className = "calendar-prev-next";

        //tworzymy div z nazwą miesiąca i roku
        this.divDateText = document.createElement('div');
        this.divDateText.className = 'date-name';

        //div z przyciskami prev, next i div z nazwą miesiąca
        //wrzucamy do wspólnego div .calendar-header - dla lepszej logiki
        this.divHeader = document.createElement('div');
        this.divHeader.classList.add('calendar-header');

        this.divHeader.appendChild(this.divButtons);
        this.divHeader.appendChild(this.divDateText);
        this.divCnt.appendChild(this.divHeader);

        //tworzymy div do którego trafi tabela kalendarza
        this.divTable = document.createElement('div');
        this.divTable.className = 'calendar-table-cnt';
        this.divCnt.appendChild(this.divTable);

        //tworzymy wrapper dla input
        this.calendarWrapper = document.createElement('div');
        this.calendarWrapper.classList.add('input-calendar-cnt');
        this.input.parentElement.insertBefore(this.calendarWrapper, this.input);
        this.calendarWrapper.appendChild(this.input);
    };
}
</code></pre>

<p>Wykorzystaliśmy tutaj pewną sztuczkę. Wstawiliśmy przed input nasz <strong>calendarWrapper</strong>. Następnie do tego wrappera wstawiliśmy sam input. Pojedynczy element na stronie nie może istnieć równocześnie w 2 miejscach (chyba, że jest to kopia)
dlatego nasz input został przeniesiony do wrappera. Pozostało dorzucić do tego wrappera kontener z kalendarzem.</p>

<p>Kolejnym krokiem będzie podpięcie pokazywania kalendarza.<br>
Po kliknięciu na input kalendarz powinien się pokazać. Zrobimy to przez dodatkową klasę, która będzie zmieniać display kalendarza:
</p>

<pre data-line="15,18-20"><code class="language-css">
.input-calendar-cnt {
    position: relative;
}
.calendar {
    position: absolute;
    top:100%;
    left:0;
    width: 300px;
    background: #fff;
    min-height: 300px;
    padding: 5px;
    border: 1px solid #ddd;
    box-shadow:2px 2px 1px rgba(0,0,0,0.1);
    font-family: sans-serif;
    display: none;
    z-index: 1;
}
.calendar.calendar-show {
    display: block;
}
...
</code></pre>

<pre data-line="14-16"><code class="language-js">
function Calendar = function() {
    ...

    //metoda inicjująca obiekt
    this.init = function () {
        ...

        //tworzymy wrapper dla input
        this.calendarWrapper = document.createElement('div');
        this.calendarWrapper.classList.add('input-calendar-cnt');
        this.input.parentElement.insertBefore(this.calendarWrapper, this.input);
        this.calendarWrapper.appendChild(this.input);

        this.input.addEventListener('click', function() {
            this.divCnt.classList.toggle('calendar-show');
        }.bind(this));
    }
}
</code></pre>

<p>Zwykłe dołączanie lub przełączanie klasy do kontenera z kalendarzem. O wiele lepiej taki kod przenieść
do oddzielnych metod, które - a nóż może kiedyś się przydadzą:</p>

<pre data-line="4-14,27"><code class="language-js">
function Calendar = function() {
    ...

    this.toggleShow = function() {
        this.divCnt.classList.toggle('calendar-show');
    }

    this.show = function() {
        this.divCnt.classList.add('calendar-show');
    }

    this.hide = function() {
        this.divCnt.classList.remove('calendar-show');
    }

    //metoda inicjująca obiekt
    this.init = function () {
        ...

        //tworzymy wrapper dla input
        this.calendarWrapper = document.createElement('div');
        this.calendarWrapper.classList.add('input-calendar-cnt');
        this.input.parentElement.insertBefore(this.calendarWrapper, this.input);
        this.calendarWrapper.appendChild(this.input);

        this.input.addEventListener('click', function() {
            this.toggleShow();
        }.bind(this));
    }
}
</code></pre>

<p>Po kliknięciu na input nasz kalendarz się pokazuje lub ukrywa. Zwiększając użyteczność powinniśmy umożliwić
użytkownikowi ukrywanie naszego kalendarza poprzez kliknięcie wszędzie poza kalendarzem. Wystarczy dodać do dokumentu nasłuchiwanie click, które ukryje kalendarz:</p>

<pre data-line="12-14"><code class="language-js">
function Calendar = function() {
    ...

    //metoda inicjująca obiekt
    this.init = function () {
        ...

        this.input.addEventListener('click', function() {
            this.toggleShow();
        }.bind(this));

        document.addEventListener('click', function() {
            this.hide();
        }.bind(this));
    }
}
</code></pre>

<p>Pamiętaj, że eventy idą w <a href="../events/events.php#stopPropagation">górę dokumentu</a>. Jeżeli klikniemy na kalendarz albo input, wtedy ten klik dojdzie aż do dokumentu, co spowoduje, że kalendarz się pojawi i od razu zostanie ukryty. Aby przerwać podróż
takiego klika do góry dokumentu musimy zastosować <a href="../events/events.php#stopImmediatePropagation">stopImmediatePropagation</a> dla inputa i kontenera z kalendarzem. Dzięki temu klikając na te elementy zdarzenie kliknięcia zatrzyma się na klikniętym elemencie:</p>

<pre data-line="13-19"><code class="language-js">
function Calendar = function() {
    ...

    //metoda inicjująca obiekt
    this.init = function () {
        ...

        this.input.classList.add('input-calendar');
        this.input.addEventListener('click', function() {
            this.toggleShow();
        }.bind(this));

        this.input.addEventListener('click', function(e) {
            e.stopImmediatePropagation();
        });

        this.divCnt.addEventListener('click', function(e) {
            e.stopImmediatePropagation();
        });

        document.addEventListener('click', function() {
            this.hide();
        }.bind(this));
    }
}
</code></pre>

<p>Nasz cały kod na chwilę obecną wygląda tak:</p>

<pre><code class="language-js">
function Calendar(input, options) {
    this.now = new Date();
    this.day = this.now.getDate();
    this.month = this.now.getMonth();
    this.year = this.now.getFullYear();
    this.input = input;
    this.divCnt = null;
    this.divTable = null;
    this.divDateText = null;
    this.divButtons = null;

    this.toggleShow = function() {
        this.divCnt.classList.toggle('calendar-show');
    }

    this.show = function() {
        this.divCnt.classList.add('calendar-show');
    }

    this.hide = function() {
        this.divCnt.classList.remove('calendar-show');
    }

    //metoda inicjująca obiekt
    this.init = function () {
        //zmieniany inputowi dodaję klasę - doda ona ikonkę kalendarza i zmieni jego kursor
        this.input.classList.add('input-calendar');

        //tworzymy div z całą zawartością
        this.divCnt = document.createElement('div');
        this.divCnt.classList.add('calendar');

        //tworzymy wrapper dla input
        this.calendarWrapper = document.createElement('div');
        this.calendarWrapper.classList.add('input-calendar-cnt');
        this.input.parentElement.insertBefore(this.calendarWrapper, this.input);
        this.calendarWrapper.appendChild(this.input);

        //tworzymy div z guzikami
        this.divButtons = document.createElement('div');
        this.divButtons.className = "calendar-prev-next";

        //tworzymy div z nazwą miesiąca
        this.divDateText = document.createElement('div');
        this.divDateText.className = 'date-name';

        this.divHeader = document.createElement('div');
        this.divHeader.classList.add('calendar-header');

        this.divHeader.appendChild(this.divButtons);
        this.divHeader.appendChild(this.divDateText);
        this.divCnt.appendChild(this.divHeader);

        //tworzymy div z tabelą kalendarza
        this.divTable = document.createElement('div');
        this.divTable.className = 'calendar-table-cnt';
        this.divCnt.appendChild(this.divTable);

        this.input.addEventListener('click', function() {
            this.toggleShow();
        }.bind(this));


        this.input.addEventListener('click', function(e) {
            e.stopImmediatePropagation();
        });
        this.divCnt.addEventListener('click', function(e) {
            e.stopImmediatePropagation();
        });

        document.addEventListener('click', function() {
            this.hide();
        }.bind(this));

        //nasz div z zawartością wrzucamy na koniec body
        this.calendarWrapper.appendChild(this.divCnt);
    };
};


const input = document.querySelector('.input-demo2');
const cal = new Calendar(input);
cal.init();
</code></pre>

<p>
    <input type="text" class="input-demo2">
</p>

<script>
(function() {
    function Calendar(input, options) {
        this.now = new Date();
        this.day = this.now.getDate();
        this.month = this.now.getMonth();
        this.year = this.now.getFullYear();
        this.input = input;
        this.divCnt = null;
        this.divTable = null;
        this.divDateText = null;
        this.divButtons = null;

        this.toggleShow = function() {
            this.divCnt.classList.toggle('calendar-show');
        };

        this.show = function() {
            this.divCnt.classList.add('calendar-show');
        };

        this.hide = function() {
            this.divCnt.classList.remove('calendar-show');
        };

        //metoda inicjujaca obiekt
        this.init = function () {
            //tworzymy div z całą zawartością
            this.divCnt = document.createElement('div');
            this.divCnt.classList.add('calendar');

            //tworzymy wrapper dla input
            this.calendarWrapper = document.createElement('div');
            this.calendarWrapper.classList.add('input-calendar-cnt');
            this.input.parentElement.insertBefore(this.calendarWrapper, this.input);
            this.calendarWrapper.appendChild(this.input);

            //tworzymy div z guzikami
            this.divButtons = document.createElement('div');
            this.divButtons.className = "calendar-prev-next";

            //tworzymy div z nazwą miesiąca
            this.divDateText = document.createElement('div');
            this.divDateText.className = 'date-name';

            this.divHeader = document.createElement('div');
            this.divHeader.classList.add('calendar-header');

            this.divHeader.appendChild(this.divButtons);
            this.divHeader.appendChild(this.divDateText);
            this.divCnt.appendChild(this.divHeader);

            //tworzymy div z tabelą.calendara
            this.divTable = document.createElement('div');
            this.divTable.className = 'calendar-table-cnt';
            this.divCnt.appendChild(this.divTable);

            this.input.classList.add('input-calendar');
            this.input.addEventListener('click', function() {
                this.toggleShow();
            }.bind(this));


            this.input.addEventListener('click', function(e) {
                e.stopImmediatePropagation();
            });
            this.divCnt.addEventListener('click', function(e) {
                e.stopImmediatePropagation();
            });

            document.addEventListener('click', function() {
                this.hide();
            }.bind(this));

            //nasz div z zawartością wrzucamy na koniec body
            this.calendarWrapper.appendChild(this.divCnt);
        };
    }

    //metoda dla inputwo - zamienia inputy na kalendarzowe
    const input = document.querySelector('.input-demo2');
    const cal = new Calendar(input);
    cal.init();
})();
</script>

<p>Jak widzisz nie za dużo się tutaj dzieje. Rozpoczynamy wypełnianie naszego kalendarza. Od najprostszych do nieco cięższych metod.</p>

<!-- ### -->
<h2 class="subtitle" id="datename">Tworzenie nazwy miesiąca i roku</h2>
<p>Jedna z najprostszych metod naszego kalendarza - czyli wyświetlenie nazwy miesiąca i roku w elemencie <strong>divDateText</strong>. Po jej napisaniu musimy ją odpalić w metodzie init:</p>

<pre data-line="4-8,17"><code class="language-js">
function Calendar = function() {
    ...

    this.createDateText = function () {
        const monthNames = ['styczeń', 'luty', 'marzec', 'kwiecień', 'maj', 'czerwiec', 'lipiec', 'sierpień', 'wrzesień', 'październik', 'listopad', 'grudzień'];

        this.divDateText.innerHTML = monthNames[this.month] + ' ' + this.year;
    };

    //metoda inicjująca obiekt
    this.init = function () {
        ...

        //tworzymy div z nazwą miesiąca
        this.divDateText = document.createElement('div');
        this.divDateText.className = 'date-name';
        this.createDateText();
    };

    ...
}
</code></pre>

<p>Metoda ta na podstawie wcześniej stworzonych zmiennych (te z początku konstruktora) dodaje do  elementu <strong>divDateText</strong> nazwę miesiąca i roku.</p>

<!-- ### -->
<h2 class="subtitle" id="tabela-kalendarza">Tabela kalendarza</h2>

<p>Rozpoczynamy tworzyć tabelę z dniami miesiąca. Wrzucimy ją do elementu <strong>divTable</strong>.<br>
Tabela taka będzie dynamicznie generowana przy przełączaniu miesięcy, dlatego musimy za każdym razem czyścić zawartość takiego diva.</p>

<pre><code class="language-js">
function Calendar = function() {
    ...

    //metoda tworząca tabele z kalendarzem
    this.createCalendarTable = function () {
        //czyścimy div z tabelą
        this.divTable.innerHTML = '';

        //tworzymy tabelę z dniami kalendarza
        const tab = document.createElement('table');
        tab.classList.add('calendar-table');

        //tabelę dołączamy do div divTable
        this.divTable.appendChild(tab);

        ...
    };

    ...
};
</code></pre>

<p>Rozpoczynamy od wygenerowania rzędu z nazwami dni tygodnia:</p>

<pre data-line="16-25"><code class="language-js">
function Calendar = function() {
    ...

    //metoda tworząca tabele z kalendarzem
    this.createCalendarTable = function () {
        //czyścimy div z tabelą
        this.divTable.innerHTML = '';

        //tworzymy tabelę z dniami kalendarza
        const tab = document.createElement('table');
        tab.classList.add('calendar-table');

        //tabelę dołączamy do div divTable
        this.divTable.appendChild(tab);

        //tworzymy nagłówki dni
        let tr = document.createElement('tr');
        tr.classList.add('calendar-table-days-names')
        const days = ['Pon', 'Wto', 'Śro', 'Czw', 'Pią', 'Sob', 'Nie'];
        for (let i=0; i&lt;days.length; i++) {
            const th = document.createElement('th');
            th.innerHTML = days[i];
            tr.appendChild(th);
        }
        tab.appendChild(tr);
    };

    ...
};
</code></pre>

<p>Pozostaje wygenerować rzędy z dniami. Zanim cokolwiek stworzymy, musimy pobrać liczbę dni dla danego miesiąca:</p>

<p>Jak wiesz miesiąc może mieć 31, 30 lub 28/29 dni w zależności od tego czy jest to rok przestępny czy nie.</p>
<p>Na szczęście JavaScript zajmie się tymi wyliczeniami za nas. Metoda <a href="https://developer.mozilla.org/pl/docs/Web/JavaScript/Referencje/Obiekty/Date/getDate">getDate()</a> zwraca aktualny dzień w miesiącu. Jeżeli użyjemy jej wraz z generowaniem określonej daty, zwróci nam dzień wygenerowanej daty. Dlatego możemy ją wykorzystać w sztuczce zwracającej liczbę <a href="https://www.electrictoolbox.com/javascript-days-in-month/">dni w danym miesiącu</a>.</p>

<pre data-line="27-28"><code class="language-js">
function Calendar = function() {
    ...

    //metoda tworząca tabele z kalendarzem
    this.createCalendarTable = function () {
        //czyścimy div z tabelą
        this.divTable.innerHTML = '';

        //tworzymy tabelę z dniami kalendarza
        const tab = document.createElement('table');
        tab.classList.add('calendar-table');

        //tabelę dołączamy do div divTable
        this.divTable.appendChild(tab);

        //tworzymy nagłówki dni
        let tr = document.createElement('tr');
        tr.classList.add('calendar-table-days-names')
        const days = ['Pon', 'Wto', 'Śro', 'Czw', 'Pią', 'Sob', 'Nie'];
        for (let i=0; i&lt;days.length; i++) {
            const th = document.createElement('th');
            th.innerHTML = days[i];
            tr.appendChild(th);
        }
        tab.appendChild(tr);

        //pobieramy wszystkie dni w miesiącu
        const daysInMonth = new Date(this.year, this.month+1, 0).getDate();
    };

    ...
};
</code></pre>

<p>Następnie pobieramy pierwszy dzień miesiąca. Miesiąc może zaczynać się od 1 dnia, albo od kolejnych. W Polskim kalendarzu tydzień zaczyna się od poniedziałku. W JavaScript-owym kalendarzu (angielskim) tydzień zaczyna się od <a href="https://pl.wikipedia.org/wiki/Niedziela">niedzieli</a>, a kończy na poniedziałku. Stąd kolejnym krokiem jest zrobienie korekty w razie czego przestawiając pierwszy dzień na 7.</p>

<pre data-line="30-38"><code class="language-js">
function Calendar = function() {
    ...

    //metoda tworząca tabele z kalendarzem
    this.createCalendarTable = function () {
        //czyścimy div z tabelą
        this.divTable.innerHTML = '';

        //tworzymy tabelę z dniami kalendarza
        const tab = document.createElement('table');
        tab.classList.add('calendar-table');

        //tworzymy nagłówki dni
        let tr = document.createElement('tr');
        tr.classList.add('calendar-table-days-names')
        const days = ['Pon', 'Wto', 'Śro', 'Czw', 'Pią', 'Sob', 'Nie'];
        for (let i=0; i&lt;days.length; i++) {
            const th = document.createElement('th');
            th.innerHTML = days[i];
            tr.appendChild(th);
        }
        tab.appendChild(tr);

        //tabelę dołączamy do div divTable
        this.divTable.appendChild(tab);

        //pobieramy liczbę dni w miesiącu
        const daysInMonth = new Date(this.year, this.month+1, 0).getDate();

        //pobieramy pierwszy dzień miesiąca
        const tempDate = new Date(this.year, this.month, 1);
        let firstMonthDay = tempDate.getDay();

        //w JavaScript  pierwszym dniem jest niedziela, a poniedziałek ostatnim
        //w razie czego robimy korektę
        if (firstMonthDay === 0) {
            firstMonthDay = 7;
        }
    };

    ...
};
</code></pre>

<p>Ostatni krok to ustawienie zmiennej j, która będzie przechowywać całkowitą liczbę komórek na dany miesiąc.</p>

<pre data-line="14-15"><code class="language-js">
function Calendar = function() {
    ...

    //metoda tworząca tabele z kalendarzem
    this.createCalendarTable = function () {
        ...

        //w JavaScript  pierwszym dniem jest niedziela, a poniedziałek ostatnim
        //w razie czego robimy korektę
        if (firstMonthDay === 0) {
            firstMonthDay = 7;
        }

        //liczba wszystkich komórek - i pustych i z dniami
        const j = daysInMonth + firstMonthDay - 1;
    };

    ...
};
</code></pre>


<p>Miesiąc może się zacząć od n-tego dnia, dlatego by wygenerować tabelę dla niego powinniśmy wygenerować komórki pustych dni (czyli komórki dni przed rozpoczęciem miesiąca) a następnie w kolejnej pętli wygenerować komórki dni danego miesiąca:</p>

<img src="./calendar-empty.png" alt="Puste dni miesiąca" class="space">

<pre data-line="39-65"><code class="language-js">
function Calendar = function() {
    ...

    //metoda tworząca tabele z kalendarzem
    this.createCalendarTable = function () {
        this.divTable.innerHTML = '';

        //tworzymy nazwy dni
        const tab = document.createElement('table');
        tab.classList.add('calendar-table');

        //tworzymy nagłówki dni
        let tr = document.createElement('tr');
        tr.classList.add('calendar-table-days-names')
        const days = ['Pon', 'Wto', 'Śro', 'Czw', 'Pią', 'Sob', 'Nie'];
        for (let i=0; i&lt;days.length; i++) {
            const th = document.createElement('th');
            th.innerHTML = days[i];
            tr.appendChild(th);
        }
        tab.appendChild(tr);

        //pobieramy liczbę dni w miesiącu
        const daysInMonth = new Date(this.year, this.month+1, 0).getDate();

        //pobieramy pierwszy dzień miesiąca
        const tempDate = new Date(this.year, this.month, 1);
        let firstMonthDay = tempDate.getDay();

        //normalnie pierwszym dniem jest niedziela, a poniedziałek ostatnim
        //w razie czego robimy korektę
        if (firstMonthDay === 0) {
            firstMonthDay = 7;
        }

        //liczba wszystkich komórek - i pustych i z dniami
        const j = daysInMonth + firstMonthDay - 1;

        //jeżeli pierwszy dzień miesiąca nie zaczyna się od początku, tworzymy dodatkowe TR
        if (firstMonthDay-1 !== 0) {
            tr = document.createElement('tr');
            tab.appendChild(tr);
        }

        //na początku generujemy puste komórki (czyli te przed rozpoczęciem miesiąca)
        for (let i=0; i&lt;firstMonthDay-1; i++) {
            const td = document.createElement('td');
            td.innerHTML = '';
            tr.appendChild(td);
        }

        //generujemy komórki z dniami miesiąca
        for (let i = firstMonthDay-1; i&lt;j; i++) {
            if(i % 7 === 0){
                tr = document.createElement('tr');
                tab.appendChild(tr);
            }

            const td = document.createElement('td');
            td.innerText = i - firstMonthDay + 2;
            td.dayNr = i - firstMonthDay + 2;
            td.classList.add('day');

            tr.appendChild(td);
        }
    };

    ...
};
</code></pre>

<p>Aby wskazać aktualny dzień, wystarczy w ostatniej pętli dokonać sprawdzenia:</p>

<pre data-line="21-23"><code class="language-js">
function Calendar = function() {
    ...

    //metoda tworząca tabele z kalendarzem
    this.createCalendarTable = function () {
        ...

        //generujemy komórki z dniami miesiąca
        for (let i = firstMonthDay-1; i&lt;j; i++) {
            if(i % 7 === 0){
                tr = document.createElement('tr');
                tab.appendChild(tr);
            }

            const td = document.createElement('td');
            td.innerText = i - firstMonthDay + 2;
            td.dayNr = i - firstMonthDay + 2;
            td.classList.add('day');


            if (this.year === this.now.getFullYear() && this.month === this.now.getMonth() && this.day === i - firstMonthDay + 2) {
                td.classList.add('current-day')
            }

            tr.appendChild(td);
        }
    };

    ...
};
</code></pre>

<p>To koniec naszej metody tworzącej tabelę. Pozostaje ją wywołać w metodzie init:</p>

<pre data-line="77"><code class="language-js">
function Calendar(input) {
    //metoda tworząca tabele z kalendarzem
    this.createCalendarTable = function () {
        this.divTable.innerHTML = '';

        //tworzymy nazwy dni
        const tab = document.createElement('table');
        tab.classList.add('calendar-table');

        //tworzymy nagłówki dni
        let tr = document.createElement('tr');
        tr.classList.add('calendar-table-days-names')
        const days = ['Pon', 'Wto', 'Śro', 'Czw', 'Pią', 'Sob', 'Nie'];
        for (let i=0; i&lt;days.length; i++) {
            const th = document.createElement('th');
            th.innerHTML = days[i];
            tr.appendChild(th);
        }
        tab.appendChild(tr);

        //tworzymy rzędy dni
        const daysInMonth = new Date(this.year, this.month+1, 0).getDate();

        const tempDate = new Date(this.year, this.month, 1);
        let firstMonthDay = tempDate.getDay();

        if (firstMonthDay === 0) {
            firstMonthDay = 7;
        }

        const j = daysInMonth + firstMonthDay - 1;

        if (firstMonthDay - 1 !== 0) {
            tr = document.createElement('tr');
            tab.appendChild(tr);
        }

        //tworzymy puste komórki przed dniami miesiąca
        for (let i=0; i < firstMonthDay - 1; i++) {
            const td = document.createElement('td');
            td.innerHTML = '';
            tr.appendChild(td);
        }

        //tworzymy komórki dni
        for (let i = firstMonthDay-1; i&lt;j; i++) {
            if(i % 7 === 0){
                tr = document.createElement('tr');
                tab.appendChild(tr);
            }

            const td = document.createElement('td');
            td.innerText = i - firstMonthDay + 2;
            td.dayNr = i - firstMonthDay + 2;
            td.classList.add('day');

            if (this.year === this.now.getFullYear() && this.month === this.now.getMonth() && this.day === i - firstMonthDay + 2) {
                td.classList.add('current-day')
            }

            tr.appendChild(td);
        }

        tab.appendChild(tr);

        this.divTable.appendChild(tab);
    };

    //metoda inicjująca obiekt
    this.init = function () {
        ...

        //tworzymy div z tabelą kalendarza
        this.divTable = document.createElement('div');
        this.divTable.className = 'calendar-table-cnt';
        this.divCnt.appendChild(this.divTable);
        this.createCalendarTable();

        ...
    };
}
</code></pre>

<p>
    <input type="text" class="input-demo3">
</p>

<script>
(function() {
    function Calendar(input) {
        this.now = new Date();
        this.day = this.now.getDate();
        this.month = this.now.getMonth();
        this.year = this.now.getFullYear();
        this.input = input;
        this.divCnt = null;
        this.divTable = null;
        this.divDateText = null;
        this.divButtons = null;

        this.createDateText = function () {
            const monthNames = ['styczeń', 'luty', 'marzec', 'kwiecień', 'maj', 'czerwiec', 'lipiec', 'sierpień', 'wrzesień', 'październik', 'listopad', 'grudzień'];

            //tworzymy nazwę miesiąca

            this.divDateText.innerHTML = monthNames[this.month] + ' ' + this.year; //czyscimy zawartosc diva
        };

        //metoda tworzaca tabele z kalendarzem
        this.createCalendarTable = function () {
            this.divTable.innerHTML = '';

            //tworzymy nazwy dni
            const tab = document.createElement('table');
            tab.classList.add('calendar-table');

            //tworzymy naglowki dni
            let tr = document.createElement('tr');
            tr.classList.add('calendar-table-days-names')
            const days = ['Pon', 'Wto', 'Śro', 'Czw', 'Pią', 'Sob', 'Nie'];
            for (let i=0; i<days.length; i++) {
                const th = document.createElement('th');
                th.innerHTML = days[i];
                tr.appendChild(th);
            }
            tab.appendChild(tr);

            //tworzymy rzędy dni
            const daysInMonth = new Date(this.year, this.month+1, 0).getDate();

            const tempDate = new Date(this.year, this.month, 1);
            let firstMonthDay = tempDate.getDay();

            if (firstMonthDay === 0) {
                firstMonthDay = 7;
            }

            const j = daysInMonth + firstMonthDay - 1;

            if (firstMonthDay - 1 !== 0) {
                tr = document.createElement('tr');
                tab.appendChild(tr);
            }

            for (let i=0; i < firstMonthDay - 1; i++) {
                const td = document.createElement('td');
                td.innerHTML = '';
                tr.appendChild(td);
            }

            for (let i = firstMonthDay-1; i<j; i++) {
                if(i % 7 === 0){
                    tr = document.createElement('tr');
                    tab.appendChild(tr);
                }

                const td = document.createElement('td');
                td.innerText = i - firstMonthDay + 2;
                td.dayNr = i - firstMonthDay + 2;
                td.classList.add('day');

                if (this.year === this.now.getFullYear() && this.month === this.now.getMonth() && this.day === i - firstMonthDay + 2) {
                    td.classList.add('current-day')
                }

                tr.appendChild(td);
            }

            tab.appendChild(tr);

            this.divTable.appendChild(tab);
        };

        this.toggleShow = function() {
            this.divCnt.classList.toggle('calendar-show');
        };

        this.show = function() {
            this.divCnt.classList.add('calendar-show');
        };

        this.hide = function() {
            this.divCnt.classList.remove('calendar-show');
        };

        //metoda inicjujaca obiekt
        this.init = function () {
            //tworzymy div z całą zawartością
            this.divCnt = document.createElement('div');
            this.divCnt.classList.add('calendar');

            //tworzymy wrapper dla input
            this.calendarWrapper = document.createElement('div');
            this.calendarWrapper.classList.add('input-calendar-cnt');
            this.input.parentElement.insertBefore(this.calendarWrapper, this.input);
            this.calendarWrapper.appendChild(this.input);

            //tworzymy div z guzikami
            this.divButtons = document.createElement('div');
            this.divButtons.className = "calendar-prev-next";

            //tworzymy div z nazwą miesiąca
            this.divDateText = document.createElement('div');
            this.divDateText.className = 'date-name';

            this.divHeader = document.createElement('div');
            this.divHeader.classList.add('calendar-header');

            this.divHeader.appendChild(this.divButtons);
            this.divHeader.appendChild(this.divDateText);
            this.divCnt.appendChild(this.divHeader);
            this.createDateText();

            //tworzymy div z tabelą.calendara
            this.divTable = document.createElement('div');
            this.divTable.className = 'calendar-table-cnt';
            this.divCnt.appendChild(this.divTable);
            this.createCalendarTable();

            this.input.classList.add('input-calendar');
            this.input.addEventListener('click', function() {
                this.toggleShow();
            }.bind(this));


            this.input.addEventListener('click', function(e) {
                e.stopImmediatePropagation();
            });
            this.divCnt.addEventListener('click', function(e) {
                e.stopImmediatePropagation();
            });

            document.addEventListener('click', function() {
                this.hide();
            }.bind(this));

            //nasz div z zawartością wrzucamy na koniec body
            this.calendarWrapper.appendChild(this.divCnt);
        };
    }

    //metoda dla inputwo - zamienia inputy na kalendarzowe
    const input = document.querySelector('.input-demo3');
    const cal = new Calendar(input);
    cal.init();
})();
</script>

<!-- ### -->
<h2 class="subtitle" id="podlaczenie-przyciskow">Podłączenie przycisków</h2>
<p>Kolejnym krokiem jaki robimy to wygenerowanie i podłączenie przycisków służących do zmieniania miesięcy. Służyć temu będzie metoda <strong>createButtons()</strong></p>

<pre data-line="4-37"><code class="language-js">
function Calendar(input, options) {
    ...

    //metoda tworząca guziczki
    this.createButtons = function () {
        //tworzę przycisk "Poprzedni miesiąc"
        const buttonPrev = document.createElement('button');
        buttonPrev.innerText = '<';
        buttonPrev.type = "button";
        buttonPrev.classList.add('input-prev');
        buttonPrev.addEventListener('click', function () {
            this.month--;
            if (this.month < 0) {
                this.month = 11;
                this.year--;
            }
            this.createCalendarTable();
            this.createDateText();
        }.bind(this));
        this.divButtons.appendChild(buttonPrev);

        //tworzę przycisk "Następny miesiąc"
        const buttonNext = document.createElement('button');
        buttonNext.classList.add('input-next');
        buttonNext.innerText = '>';
        buttonNext.type = "button";
        buttonNext.addEventListener('click', function () {
            this.month++;
            if (this.month > 11) {
                this.month = 0;
                this.year++;
            }
            this.createCalendarTable();
            this.createDateText();
        }.bind(this));
        this.divButtons.appendChild(buttonNext);
    };

    ...

};
</code></pre>

<p>Po kliknięciu każdego przycisku zmieniamy miesiąc i w razie czego rok. Dodatkowo odpalamy wcześniej napisane metody <strong>createCalendarTable()</strong> i <strong>createDateText()</strong> dzięki czemu widok kalendarza się aktualizuje. By w podpiętych eventach this wskazywało na nasz obiekt kalendarza, a nie na kliknięty przycisk użyliśmy metody <a href="../obiekty/obiekty-zaawansowane-this.php#bind">bind()</a>.</p>

<p>Jak w poprzednich przypadkach powyższą metodę musimy odpalić w metodzie <strong>init()</strong>:</p>

<pre data-line="14"><code class="language-js">
function Calendar(input, options) {
    ...

    //metoda tworząca guziczki
    this.createButtons = function () {
        ...
    };

    this.init = function() {
        ...
        //tworzymy div z guzikami
        this.divButtons = document.createElement('div');
        this.divButtons.className = "calendar-prev-next";
        this.createButtons();
        ...
    };
};
</code></pre>

<p>
    <input type="text" class="input-demo4">
</p>

<script>
(function() {
    function Calendar(input) {
        this.now = new Date();
        this.day = this.now.getDate();
        this.month = this.now.getMonth();
        this.year = this.now.getFullYear();
        this.input = input;
        this.divCnt = null;
        this.divTable = null;
        this.divDateText = null;
        this.divButtons = null;

        this.createDateText = function () {
            const monthNames = ['styczeń', 'luty', 'marzec', 'kwiecień', 'maj', 'czerwiec', 'lipiec', 'sierpień', 'wrzesień', 'październik', 'listopad', 'grudzień'];

            //tworzymy nazwę miesiąca

            this.divDateText.innerHTML = monthNames[this.month] + ' ' + this.year; //czyscimy zawartosc diva
        };

        //metoda tworząca guziczki
        this.createButtons = function () {
            const buttonPrev = document.createElement('button');
            buttonPrev.innerText = '<';
            buttonPrev.type = "button";
            buttonPrev.classList.add('input-prev');
            buttonPrev.addEventListener('click', function () {
                this.month--;
                if (this.month < 0) {
                    this.month = 11;
                    this.year--;
                }
                this.createCalendarTable();
                this.createDateText();
            }.bind(this));
            this.divButtons.appendChild(buttonPrev);

            const buttonNext = document.createElement('button');
            buttonNext.classList.add('input-next');
            buttonNext.innerText = '>';
            buttonNext.type = "button";
            buttonNext.addEventListener('click', function () {
                this.month++;
                if (this.month > 11) {
                    this.month = 0;
                    this.year++;
                }
                this.createCalendarTable();
                this.createDateText();
            }.bind(this));
            this.divButtons.appendChild(buttonNext);
        };

        //metoda tworzaca tabele z kalendarzem
        this.createCalendarTable = function () {
            this.divTable.innerHTML = '';

            //tworzymy nazwy dni
            const tab = document.createElement('table');
            tab.classList.add('calendar-table');

            //tworzymy naglowki dni
            let tr = document.createElement('tr');
            tr.classList.add('calendar-table-days-names');
            const days = ['Pon', 'Wto', 'Śro', 'Czw', 'Pią', 'Sob', 'Nie'];
            for (let i=0; i<days.length; i++) {
                const th = document.createElement('th');
                th.innerHTML = days[i];
                tr.appendChild(th);
            }
            tab.appendChild(tr);

            //tworzymy rzędy dni
            const daysInMonth = new Date(this.year, this.month+1, 0).getDate();

            const tempDate = new Date(this.year, this.month, 1);
            let firstMonthDay = tempDate.getDay();

            if (firstMonthDay === 0) {
                firstMonthDay = 7;
            }

            const j = daysInMonth + firstMonthDay - 1;

            if (firstMonthDay - 1 !== 0) {
                tr = document.createElement('tr');
                tab.appendChild(tr);
            }

            for (let i=0; i < firstMonthDay - 1; i++) {
                const td = document.createElement('td');
                td.innerHTML = '';
                tr.appendChild(td);
            }

            for (let i = firstMonthDay-1; i<j; i++) {
                if(i % 7 === 0){
                    tr = document.createElement('tr');
                    tab.appendChild(tr);
                }

                const td = document.createElement('td');
                td.innerText = i - firstMonthDay + 2;
                td.dayNr = i - firstMonthDay + 2;
                td.classList.add('day');

                if (this.year === this.now.getFullYear() && this.month === this.now.getMonth() && this.day === i - firstMonthDay + 2) {
                    td.classList.add('current-day')
                }

                tr.appendChild(td);
            }

            tab.appendChild(tr);

            this.divTable.appendChild(tab);
        };

        this.toggleShow = function() {
            this.divCnt.classList.toggle('calendar-show');
        };

        this.show = function() {
            this.divCnt.classList.add('calendar-show');
        };

        this.hide = function() {
            this.divCnt.classList.remove('calendar-show');
        };

        //metoda inicjujaca obiekt
        this.init = function () {
            //tworzymy div z całą zawartością
            this.divCnt = document.createElement('div');
            this.divCnt.classList.add('calendar');

            //tworzymy wrapper dla input
            this.calendarWrapper = document.createElement('div');
            this.calendarWrapper.classList.add('input-calendar-cnt');
            this.input.parentElement.insertBefore(this.calendarWrapper, this.input);
            this.calendarWrapper.appendChild(this.input);

            //tworzymy div z guzikami
            this.divButtons = document.createElement('div');
            this.divButtons.className = "calendar-prev-next";
            this.createButtons();

            //tworzymy div z nazwą miesiąca
            this.divDateText = document.createElement('div');
            this.divDateText.className = 'date-name';

            this.divHeader = document.createElement('div');
            this.divHeader.classList.add('calendar-header');

            this.divHeader.appendChild(this.divButtons);
            this.divHeader.appendChild(this.divDateText);
            this.divCnt.appendChild(this.divHeader);
            this.createDateText();

            //tworzymy div z tabelą.calendara
            this.divTable = document.createElement('div');
            this.divTable.className = 'calendar-table-cnt';
            this.divCnt.appendChild(this.divTable);
            this.createCalendarTable();

            this.input.classList.add('input-calendar');
            this.input.addEventListener('click', function() {
                this.toggleShow();
            }.bind(this));


            this.input.addEventListener('click', function(e) {
                e.stopImmediatePropagation();
            });
            this.divCnt.addEventListener('click', function(e) {
                e.stopImmediatePropagation();
            });

            document.addEventListener('click', function() {
                this.hide();
            }.bind(this));

            //nasz div z zawartością wrzucamy na koniec body
            this.calendarWrapper.appendChild(this.divCnt);
        };
    }

    //metoda dla inputwo - zamienia inputy na kalendarzowe
    const input = document.querySelector('.input-demo4');
    const cal = new Calendar(input);
    cal.init();
})();
</script>

<!-- ### -->
<h2 class="subtitle" id="eventy-dla-dni">Podpięcie eventów dla dni</h2>
<p>
    Zbliżamy się szybko ku końcowi. Kolejnym krokiem będzie podpięcie eventów dla dni kalendarza.
    Moglibyśmy to robić w metodzie <strong>createCalendarTable()</strong> tam gdzie generujemy kolejne komórki kalendarza.<br>
    Jest to jednak mniej optymalne rozwiązanie. Raz, że zamiast jednego wspólnego eventu mielibyśmy wiele - dla każdej komórki jeden. W naszym przypadku może to nie zaboli, bo przecież komórek jest maksymalnie 31, ale... Drugi problem wiązał by się z usuwaniem komórek. Przy zmianie miesiąca poprzez przyciski [poprzedni-następny] za każdym razem czyścimy div z tabelą i generujemy tabele na nowo, czyli każdorazowo też generujemy nowe eventy dla nowych komórek. A co ze starymi eventami dla komórek które właśnie usunęliśmy? Nasze wcześniej podpięte eventy mógłby by zalegać w pamięci, co by <a href="../dom/dom-tworzenie-i-usuwanie.php#usuwanie-i-eventy">powodowało wyciek pamięci</a>.
    W rozdziale o eventach poznaliśmy <a href="../events/events.php#dynamic-elements">lepszy sposób</a>, który polega na podpięciu eventu dla rodzica. Wykorzystajmy go tutaj. W naszym przypadku rodzicem może być dla przykładu <strong>divTable</strong>:
</p>

<pre data-line="6-14"><code class="language-js">
function Calendar() {
    this.createCalendarTable = function () {
        ...
    }

    this.bindTableDaysEvent = function() {
        this.divTable.addEventListener('click', function(e) {

            if (e.target.tagName.toLowerCase() === 'td' && e.target.classList.contains('day')) {
                alert(e.target.dayNr + '-' + (this.month + 1) + '-' + this.year);
            }

        }.bind(this));
    };

    ...
}
</code></pre>

<p>Po kliknięciu na dzień wypisujemy w <a href="../okna-dialogowe.php#alert">alert</a> dzień, miesiąc i rok. Na razie. Później wrócimy i rozbudujemy to działanie.</p>

<p>Tak jak z poprzednimi metodami i tą musimy odpalić w metodzie <strong>init()</strong>:</p>

<pre data-line="16"><code class="language-js">
function Calendar() {
    ...

    this.bindTableDaysEvent = function () {
        ...
    }

    this.init = function() {
        ...

        //tworzymy div z tabelą.calendara
        this.divTable = document.createElement('div');
        this.divTable.className = 'calendar-table-cnt';
        this.divCnt.appendChild(this.divTable);
        this.createCalendarTable();
        this.bindTableDaysEvent();

        ...
    }
}
</code></pre>

<p>
    <input type="text" class="input-demo5">
</p>

<script>
(function() {
    function Calendar(input) {
        this.now = new Date();
        this.day = this.now.getDate();
        this.month = this.now.getMonth();
        this.year = this.now.getFullYear();
        this.input = input;
        this.divCnt = null;
        this.divTable = null;
        this.divDateText = null;
        this.divButtons = null;

        this.createDateText = function () {
            const monthNames = ['styczeń', 'luty', 'marzec', 'kwiecień', 'maj', 'czerwiec', 'lipiec', 'sierpień', 'wrzesień', 'październik', 'listopad', 'grudzień'];

            //tworzymy nazwę miesiąca

            this.divDateText.innerHTML = monthNames[this.month] + ' ' + this.year; //czyscimy zawartosc diva
        };

        //metoda tworząca guziczki
        this.createButtons = function () {
            const buttonPrev = document.createElement('button');
            buttonPrev.innerText = '<';
            buttonPrev.type = "button";
            buttonPrev.classList.add('input-prev');
            buttonPrev.addEventListener('click', function () {
                this.month--;
                if (this.month < 0) {
                    this.month = 11;
                    this.year--;
                }
                this.createCalendarTable();
                this.createDateText();
            }.bind(this));
            this.divButtons.appendChild(buttonPrev);

            const buttonNext = document.createElement('button');
            buttonNext.classList.add('input-next');
            buttonNext.innerText = '>';
            buttonNext.type = "button";
            buttonNext.addEventListener('click', function () {
                this.month++;
                if (this.month > 11) {
                    this.month = 0;
                    this.year++;
                }
                this.createCalendarTable();
                this.createDateText();
            }.bind(this));
            this.divButtons.appendChild(buttonNext);
        };

        this.bindTableDaysEvent = function() {
            this.divTable.addEventListener('click', function(e) {

                if (e.target.tagName.toLowerCase() === 'td' && e.target.classList.contains('day')) {
                    alert(e.target.dayNr + '-' + (this.month + 1) + '-' + this.year);
                }

            }.bind(this));
        };

        //metoda tworzaca tabele z kalendarzem
        this.createCalendarTable = function () {
            this.divTable.innerHTML = '';

            //tworzymy nazwy dni
            const tab = document.createElement('table');
            tab.classList.add('calendar-table');

            //tworzymy naglowki dni
            let tr = document.createElement('tr');
            tr.classList.add('calendar-table-days-names')
            const days = ['Pon', 'Wto', 'Śro', 'Czw', 'Pią', 'Sob', 'Nie'];
            for (let i=0; i<days.length; i++) {
                const th = document.createElement('th');
                th.innerHTML = days[i];
                tr.appendChild(th);
            }
            tab.appendChild(tr);

            //tworzymy rzędy dni
            const daysInMonth = new Date(this.year, this.month+1, 0).getDate();

            const tempDate = new Date(this.year, this.month, 1);
            let firstMonthDay = tempDate.getDay();

            if (firstMonthDay === 0) {
                firstMonthDay = 7;
            }

            const j = daysInMonth + firstMonthDay - 1;

            if (firstMonthDay - 1 !== 0) {
                tr = document.createElement('tr');
                tab.appendChild(tr);
            }

            for (let i=0; i < firstMonthDay - 1; i++) {
                const td = document.createElement('td');
                td.innerHTML = '';
                tr.appendChild(td);
            }

            for (let i = firstMonthDay-1; i<j; i++) {
                if((i % 7) === 0){
                    tr = document.createElement('tr');
                    tab.appendChild(tr);
                }

                const td = document.createElement('td');
                td.innerText = i - firstMonthDay + 2;
                td.dayNr = i - firstMonthDay + 2;
                td.classList.add('day');

                if (this.year === this.now.getFullYear() && this.month === this.now.getMonth() && this.day === i - firstMonthDay + 2) {
                    td.classList.add('current-day')
                }

                tr.appendChild(td);
            }

            tab.appendChild(tr);

            this.divTable.appendChild(tab);
        };

        this.toggleShow = function() {
            this.divCnt.classList.toggle('calendar-show');
        };

        this.show = function() {
            this.divCnt.classList.add('calendar-show');
        };

        this.hide = function() {
            this.divCnt.classList.remove('calendar-show');
        };

        //metoda inicjujaca obiekt
        this.init = function () {
            //tworzymy div z całą zawartością
            this.divCnt = document.createElement('div');
            this.divCnt.classList.add('calendar');

            //tworzymy wrapper dla input
            this.calendarWrapper = document.createElement('div');
            this.calendarWrapper.classList.add('input-calendar-cnt');
            this.input.parentElement.insertBefore(this.calendarWrapper, this.input);
            this.calendarWrapper.appendChild(this.input);

            //tworzymy div z guzikami
            this.divButtons = document.createElement('div');
            this.divButtons.className = "calendar-prev-next";
            this.createButtons();

            //tworzymy div z nazwą miesiąca
            this.divDateText = document.createElement('div');
            this.divDateText.className = 'date-name';

            this.divHeader = document.createElement('div');
            this.divHeader.classList.add('calendar-header');

            this.divHeader.appendChild(this.divButtons);
            this.divHeader.appendChild(this.divDateText);
            this.divCnt.appendChild(this.divHeader);
            this.createDateText();

            //tworzymy div z tabelą.calendara
            this.divTable = document.createElement('div');
            this.divTable.className = 'calendar-table-cnt';
            this.divCnt.appendChild(this.divTable);
            this.createCalendarTable();
            this.bindTableDaysEvent();

            this.input.classList.add('input-calendar');
            this.input.addEventListener('click', function() {
                this.toggleShow();
            }.bind(this));


            this.input.addEventListener('click', function(e) {
                e.stopImmediatePropagation();
            });
            this.divCnt.addEventListener('click', function(e) {
                e.stopImmediatePropagation();
            });

            document.addEventListener('click', function() {
                this.hide();
            }.bind(this));

            //nasz div z zawartością wrzucamy na koniec body
            this.calendarWrapper.appendChild(this.divCnt);
        };
    }

    //metoda dla inputwo - zamienia inputy na kalendarzowe
    const input = document.querySelector('.input-demo5');
    const cal = new Calendar(input);
    cal.init();
})();
</script>

<!-- ### -->
<h2 class="subtitle" id="opcje">Opcje</h2>
<p>W naszym kalendarzu dwie rzeczy wymagają poprawy. Po pierwsze po wybraniu daty kalendarz się nie zamyka. Czy powinien się zamykać? Jak to mawiają Amerykańscy naukowcy - i tak i nie. Najlepiej gdyby używający tego kodu mógł zdecydować. To pierwsza opcja którą chcielibyśmy móc ustawiać.</p>
<p>Drugą opcją jest rzecz jasna zachowanie kalendarza po wybraniu daty. Domyślnie powinno to być uzupełnienie treści inputa wybraną datą. Ale to zachowanie też powinno być możliwe do zmiany, bo może programista chciałby nie tylko wpisać do pola datę, ale może zapisać ją w innym formacie, a może wrzucić ją dodatkowo do jakiegoś elementu w html?</p>
<p>Podejście z przekazywaniem obiektu opcji omówiłem dokładnie <a href="../es6/obiekty-w-es6.php#assign-w-praktyce">tutaj</a>. Do naszego konstruktora przekazujemy obiekt z ustawieniami, który następnie scalamy z drugim obiektem (za pomocą metody <a href="../es6/obiekty-w-es6.php#assign-w-praktyce">Object.assign()</a>), który zawiera domyślne ustawienia. W wyniku tej operacji dostajemy złączony obiekt opcji, który ma domyślne opcje oraz te które zostały nadpisane przez programistę.</p>

<pre data-line="1,12-15"><code class="language-js">
function Calendar(input, options) {
    this.now = new Date();
    this.day = this.now.getDate();
    this.month = this.now.getMonth();
    this.year = this.now.getFullYear();
    this.input = input;
    this.divCnt = null;
    this.divTable = null;
    this.divDateText = null;
    this.divButtons = null;

    const defaultOptions = {
        //...defaultowe opcje...
    }
    this.options = Object.assign({}, defaultOptions, options);

    ...
}
</code></pre>

<p>W wyniku działania powyższego kodu dostaniemy właściwość <strong>options</strong>, która będzie połączeniem <strong>defaultOptions</strong> oraz tego co przekaże nam programista tworząc nowy obiekt.</p>

<p>Jak już powiedzieliśmy nas interesują 2 opcje. Pierwsza z nich to zamykanie kalendarza jeżeli użytkownik wybierze datę (kliknie na dzień w kalendarzu). Właściwość tą wykorzystamy w metodzie podpinającej kliknięcie pod komórki tabeli czyli <strong>bindTableDaysEvent()</strong>:</p>

<pre data-line="13,23-25"><code class="language-js">
function Calendar(input, options) {
    this.now = new Date();
    this.day = this.now.getDate();
    this.month = this.now.getMonth();
    this.year = this.now.getFullYear();
    this.input = input;
    this.divCnt = null;
    this.divTable = null;
    this.divDateText = null;
    this.divButtons = null;

    const defaultOptions = {
        closeOnSelect : false,
    }
    this.options = Object.assign({}, defaultOptions, options);

    ...

    this.bindTableDaysEvent = function() {
        this.divTable.addEventListener('click', function(e) {
            if (e.target.tagName.toLowerCase() === 'td' && e.target.classList.contains('day')) {
                alert(e.target.dayNr + '-' + (this.month + 1) + '-' + this.year);
                if (this.options.closeOnSelect) {
                    this.hide();
                }
            }
        }.bind(this));
    }

    ...
}
</code></pre>

<p>Druga opcja to zachowanie po wyborze daty - czyli jakaś funkcja, która będzie odpalana gdy użytkownik kliknie na dzień w kalendarzu. Domyślnie wybrana data powinna być wpisywana w input. Musimy więc zdefiniować domyślną funkcję dla tej akcji. Ale i ta opcja powinna być możliwa do zmiany. Tą opcję też podpinamy w zdarzeniu click dla komórek tabeli:</p>

<pre data-line="14-18,31"><code class="language-js">
function Calendar(input, options) {
    this.now = new Date();
    this.day = this.now.getDate();
    this.month = this.now.getMonth();
    this.year = this.now.getFullYear();
    this.input = input;
    this.divCnt = null;
    this.divTable = null;
    this.divDateText = null;
    this.divButtons = null;

    const defaultOptions = {
        closeOnSelect : false,
        onDateSelect : function(day, month, year) {
            const monthText = ((month + 1) < 10) ? "0" + (month + 1) : month + 1;
            const dayText =  (day < 10) ? "0" + day : day;
            this.input.value = dayText + '-' + monthText + '-' + this.year;
        }.bind(this)
    }
    this.options = Object.assign({}, defaultOptions, options);

    ...

    this.bindTableDaysEvent = function() {
        this.divTable.addEventListener('click', function(e) {
            if (e.target.tagName.toLowerCase() === 'td' && e.target.classList.contains('day')) {
                alert(e.target.dayNr + '-' + (this.month + 1) + '-' + this.year);
                if (this.options.closeOnSelect) {
                    this.hide();
                }
                this.options.onDateSelect(e.target.dayNr, this.month + 1, this.year);
            }
        }.bind(this));
    }

    ...
}
</code></pre>

<p>Od tej pory przy tworzeniu naszych kalendarzy programista może każdorazowo zmieniać ich opcje:</p>

<pre><code class="language-js">
function Calendar(input, options) {
    ...
}



//dla 1 inputa wyłączam tylko zamykanie przy wyborze daty
//akcji po wyborze daty nie zmieniam bo mi odpowiada (ale dalej można zamknąć klikając na input czy poza kalendarz)
const inp1 = document.querySelector('.input-demo1');
const opt1 = {
    closeOnSelect : false
}
const cal1 = new Calendar(inp1, opt1);
cal1.init();
</code></pre>

<p>
    <input type="text" class="input-demo6">
</p>

<pre><code class="language-js">
function Calendar(input, options) {
    ...
}



//dla 2 inputa nadpisuję tylko akcję po wyborze daty
//domyślne zamykanie tutaj mi pasuje
const input2 = document.querySelector('.input-demo2');
const opt2 = {
    onDateSelect : function(day, month, year) {
        const dayText = (day < 10) ? '0' + day : day;
        const monthText = (month < 10) ? '0' + month : month;

        const date = dayText + ' / ' + monthText + ' / ' + year;
        document.querySelector('.demo7-text').innerHTML = 'Wybrałeś właśnie datę: &lt;strong>' + date + '&lt;/strong>';
        inp2.value = date;
    }
}
const cal2 = new Calendar(inp2, opt2);
cal2.init();
</code></pre>

<style>
    .demo7 {
        display: flex;
    }
    .demo7-text {
        background: #fafafa;
        margin-left:10px;
        padding:0 10px;
    }
</style>

<p class="demo7">
    <input type="text" class="input-demo7">
    <span class="demo7-text"></span>
</p>

<script>
(function() {
    function Calendar(input, options) {
        this.now = new Date();
        this.day = this.now.getDate();
        this.month = this.now.getMonth();
        this.year = this.now.getFullYear();
        this.input = input;
        this.divCnt = null;
        this.divTable = null;
        this.divDateText = null;
        this.divButtons = null;

        const defaultOptions = {
            closeOnSelect : false,
            onDateSelect : function(day, month, year) {
                const monthText = ((month + 1) < 10) ? "0" + (month + 1) : month + 1;
                const dayText =  (day < 10) ? "0" + day : day;
                this.input.value = dayText + '-' + monthText + '-' + this.year;
            }.bind(this)
        };
        this.options = Object.assign({}, defaultOptions, options);

        this.createDateText = function () {
            const monthNames = ['styczeń', 'luty', 'marzec', 'kwiecień', 'maj', 'czerwiec', 'lipiec', 'sierpień', 'wrzesień', 'październik', 'listopad', 'grudzień'];

            //tworzymy nazwę miesiąca

            this.divDateText.innerHTML = monthNames[this.month] + ' ' + this.year; //czyscimy zawartosc diva
        };

        //metoda tworząca guziczki
        this.createButtons = function () {
            const buttonPrev = document.createElement('button');
            buttonPrev.innerText = '<';
            buttonPrev.type = "button";
            buttonPrev.classList.add('input-prev');
            buttonPrev.addEventListener('click', function () {
                this.month--;
                if (this.month < 0) {
                    this.month = 11;
                    this.year--;
                }
                this.createCalendarTable();
                this.createDateText();
            }.bind(this));
            this.divButtons.appendChild(buttonPrev);

            const buttonNext = document.createElement('button');
            buttonNext.classList.add('input-next');
            buttonNext.innerText = '>';
            buttonNext.type = "button";
            buttonNext.addEventListener('click', function () {
                this.month++;
                if (this.month > 11) {
                    this.month = 0;
                    this.year++;
                }
                this.createCalendarTable();
                this.createDateText();
            }.bind(this));
            this.divButtons.appendChild(buttonNext);
        };

        this.bindTableDaysEvent = function() {
            this.divTable.addEventListener('click', function(e) {

                if (e.target.tagName.toLowerCase() === 'td' && e.target.classList.contains('day')) {
                    if (this.options.closeOnSelect) {
                        this.hide();
                    }
                    this.options.onDateSelect(e.target.dayNr, this.month + 1, this.year);
                }

            }.bind(this));
        };

        //metoda tworzaca tabele z kalendarzem
        this.createCalendarTable = function () {
            this.divTable.innerHTML = '';

            //tworzymy nazwy dni
            const tab = document.createElement('table');
            tab.classList.add('calendar-table');

            //tworzymy naglowki dni
            let tr = document.createElement('tr');
            tr.classList.add('calendar-table-days-names');
            const days = ['Pon', 'Wto', 'Śro', 'Czw', 'Pią', 'Sob', 'Nie'];
            for (let i=0; i<days.length; i++) {
                const th = document.createElement('th');
                th.innerHTML = days[i];
                tr.appendChild(th);
            }
            tab.appendChild(tr);

            //tworzymy rzędy dni
            const daysInMonth = new Date(this.year, this.month+1, 0).getDate();

            const tempDate = new Date(this.year, this.month, 1);
            let firstMonthDay = tempDate.getDay();

            if (firstMonthDay === 0) {
                firstMonthDay = 7;
            }

            const j = daysInMonth + firstMonthDay - 1;

            if (firstMonthDay - 1 !== 0) {
                tr = document.createElement('tr');
                tab.appendChild(tr);
            }

            for (let i=0; i < firstMonthDay - 1; i++) {
                const td = document.createElement('td');
                td.innerHTML = '';
                tr.appendChild(td);
            }

            for (let i = firstMonthDay-1; i<j; i++) {
                if(i % 7 === 0){
                    tr = document.createElement('tr');
                    tab.appendChild(tr);
                }

                const td = document.createElement('td');
                td.innerText = i - firstMonthDay + 2;
                td.dayNr = i - firstMonthDay + 2;
                td.classList.add('day');

                if (this.year === this.now.getFullYear() && this.month === this.now.getMonth() && this.day === i - firstMonthDay + 2) {
                    td.classList.add('current-day')
                }

                tr.appendChild(td);
            }

            tab.appendChild(tr);

            this.divTable.appendChild(tab);
        };

        this.toggleShow = function() {
            this.divCnt.classList.toggle('calendar-show');
        };

        this.show = function() {
            this.divCnt.classList.add('calendar-show');
        };

        this.hide = function() {
            this.divCnt.classList.remove('calendar-show');
        };

        //metoda inicjujaca obiekt
        this.init = function () {
            //tworzymy div z całą zawartością
            this.divCnt = document.createElement('div');
            this.divCnt.classList.add('calendar');

            //tworzymy wrapper dla input
            this.calendarWrapper = document.createElement('div');
            this.calendarWrapper.classList.add('input-calendar-cnt');
            this.input.parentElement.insertBefore(this.calendarWrapper, this.input);
            this.calendarWrapper.appendChild(this.input);

            //tworzymy div z guzikami
            this.divButtons = document.createElement('div');
            this.divButtons.className = "calendar-prev-next";
            this.createButtons();

            //tworzymy div z nazwą miesiąca
            this.divDateText = document.createElement('div');
            this.divDateText.className = 'date-name';

            this.divHeader = document.createElement('div');
            this.divHeader.classList.add('calendar-header');

            this.divHeader.appendChild(this.divButtons);
            this.divHeader.appendChild(this.divDateText);
            this.divCnt.appendChild(this.divHeader);
            this.createDateText();

            //tworzymy div z tabelą kalendarza
            this.divTable = document.createElement('div');
            this.divTable.className = 'calendar-table-cnt';
            this.divCnt.appendChild(this.divTable);
            this.createCalendarTable();
            this.bindTableDaysEvent();

            this.input.classList.add('input-calendar');
            this.input.addEventListener('click', function() {
                this.toggleShow();
            }.bind(this));


            this.input.addEventListener('click', function(e) {
                e.stopImmediatePropagation();
            });
            this.divCnt.addEventListener('click', function(e) {
                e.stopImmediatePropagation();
            });

            document.addEventListener('click', function() {
                this.hide();
            }.bind(this));

            //nasz div z zawartością wrzucamy na koniec body
            this.calendarWrapper.appendChild(this.divCnt);
        };
    }

    //metoda dla inputwo - zamienia inputy na kalendarzowe
    const inp1 = document.querySelector('.input-demo6');
    //dla 1 inputa wyłączam tylko zamykanie przy wyborze daty
    const opt1 = {
        closeOnSelect : false
    };

    const cal1 = new Calendar(inp1, opt1);
    cal1.init();


    const inp2 = document.querySelector('.input-demo7');
    //dla 2 inputa nadpisuję tylko akcję po wyborze daty
    const opt2 = {
        closeOnSelect : true,
        onDateSelect : function(day, month, year) {
            const dayText = (day < 10) ? '0' + day : day;
            const monthText = (month < 10) ? '0' + month : month;

            const date = dayText + ' / ' + monthText + ' / ' + year;
            document.querySelector('.demo7-text').innerHTML = 'Wybrałeś właśnie datę: <strong>' + date + '</strong>';
            inp2.value = date;
        }
    };

    const cal2 = new Calendar(inp2, opt2);
    cal2.init();
})();
</script>

<!-- ### -->
<h2 class="subtitle" id="caly-listing">Cały listing</h2>
<p>Gdybyś zgubił się w powyższym tekście (nie dziwne), poniżej zamieszczam cały listing:</p>

<pre><code class="language-js">
function Calendar(input, options) {
    this.now = new Date();
    this.day = this.now.getDate();
    this.month = this.now.getMonth();
    this.year = this.now.getFullYear();
    this.input = input;
    this.divCnt = null;
    this.divTable = null;
    this.divDateText = null;
    this.divButtons = null;

    const defaultOptions = {
        closeOnSelect : false,
        onDateSelect : function(day, month, year) {
            const monthText = ((month + 1) < 10) ? "0" + (month + 1) : month + 1;
            const dayText =  (day < 10) ? "0" + day : day;
            this.input.value = dayText + '-' + monthText + '-' + this.year;
        }.bind(this)
    }
    this.options = Object.assign({}, defaultOptions, options);

    //metoda tworząca przyciski prev-next
    this.createButtons = function () {
        const buttonPrev = document.createElement('button');
        buttonPrev.innerText = '<';
        buttonPrev.type = "button";
        buttonPrev.classList.add('input-prev');
        buttonPrev.addEventListener('click', function () {
            this.month--;
            if (this.month < 0) {
                this.month = 11;
                this.year--;
            }
            this.createCalendarTable();
            this.createDateText();
        }.bind(this));
        this.divButtons.appendChild(buttonPrev);

        const buttonNext = document.createElement('button');
        buttonNext.classList.add('input-next');
        buttonNext.innerText = '>';
        buttonNext.type = "button";
        buttonNext.addEventListener('click', function () {
            this.month++;
            if (this.month > 11) {
                this.month = 0;
                this.year++;
            }
            this.createCalendarTable();
            this.createDateText();
        }.bind(this));
        this.divButtons.appendChild(buttonNext);
    };

    //metoda wypisująca nazwę miesiąca i roku
    this.createDateText = function () {
        const monthNames = ['styczeń', 'luty', 'marzec', 'kwiecień', 'maj', 'czerwiec', 'lipiec', 'sierpień', 'wrzesień', 'październik', 'listopad', 'grudzień'];
        this.divDateText.innerHTML = monthNames[this.month] + ' ' + this.year;
    };

    //metoda tworząca tabele z kalendarzem
    this.createCalendarTable = function () {
        this.divTable.innerHTML = '';

        //tworzymy nazwy dni
        const tab = document.createElement('table');
        tab.classList.add('calendar-table');

        //tworzymy nagłówki dni
        let tr = document.createElement('tr');
        tr.classList.add('calendar-table-days-names')
        const days = ['Pon', 'Wto', 'Śro', 'Czw', 'Pią', 'Sob', 'Nie'];
        for (let i=0; i&lt;days.length; i++) {
            const th = document.createElement('th');
            th.innerHTML = days[i];
            tr.appendChild(th);
        }
        tab.appendChild(tr);

        //pobieramy wszystkie dni danego miesiąca
        const daysInMonth = new Date(this.year, this.month+1, 0).getDate();

        //pobieramy pierwszy dzień miesiąca
        const tempDate = new Date(this.year, this.month, 1);
        let firstMonthDay = tempDate.getDay();
        if (firstMonthDay === 0) {
            firstMonthDay = 7;
        }

        //wszystkie komórki w tabeli
        const j = daysInMonth + firstMonthDay - 1;

        if (firstMonthDay - 1 !== 0) {
            tr = document.createElement('tr');
            tab.appendChild(tr);
        }

        //tworzymy puste komórki przed dniami miesiąca
        for (let i=0; i < firstMonthDay - 1; i++) {
            const td = document.createElement('td');
            td.innerHTML = '';
            tr.appendChild(td);
        }

        //tworzymy komórki dni
        for (let i = firstMonthDay-1; i&lt;j; i++) {
            if(i % 7 === 0){
                tr = document.createElement('tr');
                tab.appendChild(tr);
            }

            const td = document.createElement('td');
            td.innerText = i - firstMonthDay + 2;
            td.dayNr = i - firstMonthDay + 2;
            td.classList.add('day');

            if (this.year === this.now.getFullYear() && this.month === this.now.getMonth() && this.day === i - firstMonthDay + 2) {
                td.classList.add('current-day')
            }

            tr.appendChild(td);
        }

        tab.appendChild(tr);

        this.divTable.appendChild(tab);
    };

    //podpinamy klik pod dni w tabeli kalendarza
    this.bindTableDaysEvent = function() {
        this.divTable.addEventListener('click', function(e) {
            if (e.target.tagName.toLowerCase() === 'td' && e.target.classList.contains('day')) {
                const month2 = ((this.month + 1) < 10) ? "0" + (this.month + 1) : this.month + 1;

                if (this.options.closeOnSelect) {
                    this.hide();
                }
                this.options.onDateSelect(e.target.dayNr, this.month + 1, this.year);
            }
        }.bind(this));
    }

    //metoda ukrywa/pokazuje kalendarz
    this.toggleShow = function() {
        this.divCnt.classList.toggle('calendar-show');
    }

    //metoda pokazuje kalendarz
    this.show = function() {
        this.divCnt.classList.add('calendar-show');
    }

    //metoda ukrywa kalendarz
    this.hide = function() {
        this.divCnt.classList.remove('calendar-show');
    }

    //metoda inicjująca obiekt
    this.init = function () {
        //tworzymy div z całą zawartością
        this.divCnt = document.createElement('div');
        this.divCnt.classList.add('calendar');

        //tworzymy div z guzikami
        this.divButtons = document.createElement('div');
        this.divButtons.className = "calendar-prev-next";
        this.createButtons();

        //tworzymy div z nazwą miesiąca
        this.divDateText = document.createElement('div');
        this.divDateText.className = 'date-name';
        this.createDateText();

        //tworzymy nagłówek kalendarza
        this.divHeader = document.createElement('div');
        this.divHeader.classList.add('calendar-header');

        this.divHeader.appendChild(this.divButtons);
        this.divHeader.appendChild(this.divDateText);
        this.divCnt.appendChild(this.divHeader);

        //tworzymy div z tabelą kalendarza
        this.divTable = document.createElement('div');
        this.divTable.className = 'calendar-table-cnt';
        this.divCnt.appendChild(this.divTable);
        this.createCalendarTable();
        this.bindTableDaysEvent();

        //tworzymy wrapper dla input
        this.calendarWrapper = document.createElement('div');
        this.calendarWrapper.classList.add('input-calendar-cnt');
        this.input.parentElement.insertBefore(this.calendarWrapper, this.input);
        this.calendarWrapper.appendChild(this.input);
        this.calendarWrapper.appendChild(this.divCnt);

        this.input.classList.add('input-calendar');

        //podpinamy zdarzenia do pokazywania/ukrywania kalendarza
        this.input.addEventListener('click', function() {
            this.toggleShow();
        }.bind(this));

        this.divCnt.addEventListener('click', function(e) {
            e.stopImmediatePropagation();
        });
        this.input.addEventListener('click', function(e) {
            e.stopImmediatePropagation();
        });
        document.addEventListener('click', function() {
            this.hide();
        }.bind(this));
    };
};
</code></pre>

<p>Oraz przykładowe wywołanie:</p>

<pre><code class="language-js">
const input = document.querySelector('.input-date');
const cal = new Calendar(btn2, {
    closeOnSelect : true,
    onDateSelect : function(day, month, year) {
        console.log(day);
        console.log(month);
        console.log(year);

        const dayText = ((day + 1) < 10) ? "0" + (day + 1) : day + 1;
        const monthsNames = ['styczeń', 'luty', 'marzec', 'kwiecień', 'maj', 'czerwiec', 'lipiec', 'sierpień', 'wrzesień', 'październik', 'listopad', 'grudzień'];

        input.value = dayText + ' ' + monthsNames[month] + ' ' + year;
    }
});
cal.init();
</code></pre>

<div class="tasks-for-you-cnt">
    <h2 class="subtitle" id="zadania">Trening czyni mistrza</h2>
    <p>
        Poniżej zamieszczam kilka zadań, które w ramach ćwiczenia możesz wykonać:
    </p>
    <ol class="tasks-for-you">
        <li>
            <div class="question">
                Przerób powyższy kod na <a href="/web/20180815091258/http://kursjs.pl/kurs/es6/class.php">klasy w ES6</a>
            </div>
            <div class="solution">
                <pre><code class="language-js">
                class Calendar() {
                    constructor(input, options) {
                        this.now = new Date();
                        this.day = this.now.getDate();
                        this.month = this.now.getMonth();
                        this.year = this.now.getFullYear();
                        this.input = input;
                        this.divCnt = null;
                        this.divTable = null;
                        this.divDateText = null;
                        this.divButtons = null;
    
                        const defaultOptions = {
                            closeOnSelect : false,
                            onDateSelect : function(day, month, year) {
                                const monthText = ((month + 1) &lt; 10) ? "0" + (month + 1) : month + 1;
                                const dayText =  (day &lt; 10) ? "0" + day : day;
                                this.input.value = dayText + '-' + monthText + '-' + this.year;
                            }.bind(this)
                        }
                        this.options = Object.assign({}, defaultOptions, options);
    
                        //metodę init moglibyśmy wrzucić do konstruktora...
                        //ale dzięki temu będziemy mogli ją w przyszłości nadpisać
                        this.init();
                    }
    
                    //metoda tworząca przyciski prev-next
                    createButtons() {
                        const buttonPrev = document.createElement('button');
                        buttonPrev.innerText = '&lt;';
                        buttonPrev.type = "button";
                        buttonPrev.classList.add('input-prev');
                        buttonPrev.addEventListener('click', function () {
                            this.month--;
                            if (this.month &lt; 0) {
                                this.month = 11;
                                this.year--;
                            }
                            this.createCalendarTable();
                            this.createDateText();
                        }.bind(this));
                        this.divButtons.appendChild(buttonPrev);
    
                        const buttonNext = document.createElement('button');
                        buttonNext.classList.add('input-next');
                        buttonNext.innerText = '&gt;';
                        buttonNext.type = "button";
                        buttonNext.addEventListener('click', function () {
                            this.month++;
                            if (this.month &gt; 11) {
                                this.month = 0;
                                this.year++;
                            }
                            this.createCalendarTable();
                            this.createDateText();
                        }.bind(this));
                        this.divButtons.appendChild(buttonNext);
                    };
    
                    //metoda wypisująca nazwę miesiąca i roku
                    createDateText() {
                        const monthNames = ['styczeń', 'luty', 'marzec', 'kwiecień', 'maj', 'czerwiec', 'lipiec', 'sierpień', 'wrzesień', 'październik', 'listopad', 'grudzień'];
                        this.divDateText.innerHTML = monthNames[this.month] + ' ' + this.year;
                    };
    
                    //metoda tworząca tabele z kalendarzem
                    createCalendarTable() {
                        this.divTable.innerHTML = '';
    
                        //tworzymy nazwy dni
                        const tab = document.createElement('table');
                        tab.classList.add('calendar-table');
    
                        //tworzymy nagłówki dni
                        let tr = document.createElement('tr');
                        tr.classList.add('calendar-table-days-names')
                        const days = ['Pon', 'Wto', 'Śro', 'Czw', 'Pią', 'Sob', 'Nie'];
                        for (let i=0; i&lt;days.length; i++) {
                            const th = document.createElement('th');
                            th.innerHTML = days[i];
                            tr.appendChild(th);
                        }
                        tab.appendChild(tr);
    
                        //pobieramy wszystkie dni w miesiącu
                        const daysInMonth = new Date(this.year, this.month+1, 0).getDate();
    
                        //pobieramy pierwszy dzień miesiąca
                        const tempDate = new Date(this.year, this.month, 1);
                        let firstMonthDay = tempDate.getDay();
                        if (firstMonthDay === 0) {
                            firstMonthDay = 7;
                        }
    
                        const j = daysInMonth + firstMonthDay - 1;
    
                        if (firstMonthDay - 1 !== 0) {
                            tr = document.createElement('tr');
                            tab.appendChild(tr);
                        }
    
                        //tworzymy puste komórki przed dniami miesiąca
                        for (let i=0; i &lt; firstMonthDay - 1; i++) {
                            const td = document.createElement('td');
                            td.innerHTML = '';
                            tr.appendChild(td);
                        }
    
                        //tworzymy komórki dni
                        for (let i = firstMonthDay-1; i&lt;j; i++) {
                            if((i % 7) == 0){
                                tr = document.createElement('tr');
                                tab.appendChild(tr);
                            }
    
                            const td = document.createElement('td');
                            td.innerText = i - firstMonthDay + 2;
                            td.dayNr = i - firstMonthDay + 2;
                            td.classList.add('day');
    
                            if (this.year === this.now.getFullYear() &amp;&amp; this.month === this.now.getMonth() &amp;&amp; this.day === i - firstMonthDay + 2) {
                                td.classList.add('current-day')
                            }
    
                            tr.appendChild(td);
                        }
    
                        tab.appendChild(tr);
    
                        this.divTable.appendChild(tab);
                    };
    
                    //podpinamy klik pod dni w tabeli kalendarza
                    bindTableDaysEvent() {
                        this.divTable.addEventListener('click', function(e) {
                            if (e.target.tagName.toLowerCase() === 'td' &amp;&amp; e.target.classList.contains('day')) {
                                const month2 = ((this.month + 1) &lt; 10) ? "0" + (this.month + 1) : this.month + 1;
    
                                if (this.options.closeOnSelect) {
                                    this.hide();
                                }
                                this.options.onDateSelect(e.target.dayNr, this.month + 1, this.year);
                            }
                        }.bind(this));
                    }
    
                    //metoda ukrywa/pokazuje kalendarz
                    toggleShow() {
                        this.divCnt.classList.toggle('calendar-show');
                    }
    
                    //metoda pokazuje kalendarz
                    show() {
                        this.divCnt.classList.add('calendar-show');
                    }
    
                    //metoda ukrywa kalendarz
                    hide() {
                        this.divCnt.classList.remove('calendar-show');
                    }
    
                    //metoda inicjująca obiekt
                    init() {
                        //tworzymy div z całą zawartością
                        this.divCnt = document.createElement('div');
                        this.divCnt.classList.add('calendar');
    
                        //tworzymy div z guzikami
                        this.divButtons = document.createElement('div');
                        this.divButtons.className = "calendar-prev-next";
                        this.createButtons();
    
                        //tworzymy div z nazwą miesiąca
                        this.divDateText = document.createElement('div');
                        this.divDateText.className = 'date-name';
                        this.createDateText();
    
                        //tworzymy nagłówek kalendarza
                        this.divHeader = document.createElement('div');
                        this.divHeader.classList.add('calendar-header');
    
                        this.divHeader.appendChild(this.divButtons);
                        this.divHeader.appendChild(this.divDateText);
                        this.divCnt.appendChild(this.divHeader);
    
                        //tworzymy div z tabelą.calendara
                        this.divTable = document.createElement('div');
                        this.divTable.className = 'calendar-table-cnt';
                        this.divCnt.appendChild(this.divTable);
                        this.createCalendarTable();
                        this.bindTableDaysEvent();
    
                        //tworzymy wrapper dla input
                        this.calendarWrapper = document.createElement('div');
                        this.calendarWrapper.classList.add('input-calendar-cnt');
                        this.input.parentElement.insertBefore(this.calendarWrapper, this.input);
                        this.calendarWrapper.appendChild(this.input);
                        this.calendarWrapper.appendChild(this.divCnt);
    
                        this.input.classList.add('input-calendar');
    
                        //podpinamy zdarzenia do pokazywania/ukrywania kalendarza
                        this.input.addEventListener('click', function() {
                            this.toggleShow();
                        }.bind(this));
    
                        this.divCnt.addEventListener('click', function(e) {
                            e.stopImmediatePropagation();
                        });
                        this.input.addEventListener('click', function(e) {
                            e.stopImmediatePropagation();
                        });
                        document.addEventListener('click', function() {
                            this.hide();
                        }.bind(this));
                    };
                };
                </code></pre>
            </div>
        </li>
        <li>
            <div class="question">
                Nasz kalendarz to taki początek. Może sam wymyślisz dodatkowe funkcjonalności które się tutaj przydadzą? Kilka pomysłów które przychodzą mi do głowy:<br><br>
                - możliwość podania w options nazw nagłówków dni<br>
                - możliwość w options podania czy w kalendarzu zaznaczony obecny dzień?<br>
                - dodatkowa funkcjonalność, która przed dodaniem klasy do naszego inputa (co robimy w metodzie init()) zamieni go z input:date na input:text (jeżeli nasz kalendarz zostanie podpięty pod input:number,  input:date itp to nie będzie pewnie zbyt dobrze działał)<br>
                - funkcjonalność, która doda do inputa dodatkową właściwość np. calendarExist. Na początku metody init sprawdzilibyśmy czy taka właściwość istnieje. Jeżeli istnieje, wtedy nie ma sensu jeszcze raz dodawać dla tego samego inputa kalendarza.<br>
                - zamiana nazwy miesiąca i roku na odpowiednio ostylowane selekty które umożliwiały by szybki wybór miesiąca i roku<br>
                - dodatkowy przycisk "today" w footerze kalendarza, który od razu by przenosił do aktualnego miesiąca
            </div>
            <div class="solution">
                <a href="./calendar-demo.html" target="_blank">Tutaj zaimplementowałem</a> powyższe pomysły oraz dodałem opcje takie jak "czy pokazywać przycisk [dziś]" czy "dodawanie lat do selekta z wyborem roku". Do kodu dodałem komentarze.
            </div>
        </li>
    </ol>
    </div>


			</div><!-- e: page-content-text -->
			<footer class="page-footer">
				<p>
				Wszelkie prawa zastrzeżone. Jeżeli chcesz używać jakiejś części tego kursu, skontaktuj się z <a href="/kurs/autor.php">autorem</a>.
				Aha - i ta strona korzysta z <a href="/kurs/polityka-prywatnosci.php">ciasteczek</a>.
				</p>
			</footer>
							<div class="rekl-cnt">
					<ins
					class="adsbygoogle" style="margin-top:40px; display:block"
					data-ad-client="ca-pub-6843603045703750"
					data-ad-slot="4690777640"
					data-ad-format="auto"
					data-full-width-responsive="true"
					></ins>
				</div>
				<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
	(adsbygoogle = window.adsbygoogle || []).push({});
</script>
					</main><!-- e: page-content -->
			</div><!-- e: page-content-wrapper -->
            <aside id="page-sidebar-cnt" class="page-sidebar-cnt">
                <div id="page-sidebar" class="page-sidebar">
                    <button aria-label="Pokaż/ukryj Menu" aria-expanded="false" aria-controls="page-sidebar" type="button" id="pageSidebarBurger" class="page-sidebar-burger">
                        <span></span>
                    </button>
            
                    <h2 class="visuallyhidden">
                        Menu
                    </h2>
            
                    <button class="sidebar-toggle-btn" title="Pokaż/schowaj menu" aria-hidden="true">
                        <strong>Pokaż/ukryj menu</strong>
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
            
                    <div class="page-sidebar-title">
                        <a href="/kurs/kontakt.html" title="Nawrzucaj autorowi" class="mail-to-author" id="mailToAuthor">Napisz do mnie</a>
                        <a href="#popupOptions" class="page-setup-link popupOpen" title="Ustawienia strony" id="showOptions">Ustawienia</a>
                        <a href="/index.html" aria-label="Strona główna" class="page-sidebar-title-link">Kurs Javascript</a>
                    </div>
            
                    <form aria-label="Wyszukiwarka" class="search-sidebar" action="/search.html" method="post">
                        <label for="search" class="search-sidebar-label">Szukaj</label>
                        <div class="search-sidebar-input-cnt">
                            <svg class="search-sidebar-input-icon" xmlns="http://www.w3.org/2000/svg" width="26" height="28" viewBox="0 0 26 28" aria-hidden="true">
                                <path d="M18 13c0-3.859-3.141-7-7-7s-7 3.141-7 7 3.141 7 7 7 7-3.141 7-7zm8 13c0 1.094-.906 2-2 2a1.96 1.96 0 0 1-1.406-.594l-5.359-5.344a10.971 10.971 0 0 1-6.234 1.937c-6.078 0-11-4.922-11-11s4.922-11 11-11 11 4.922 11 11c0 2.219-.672 4.406-1.937 6.234l5.359 5.359c.359.359.578.875.578 1.406z"></path>
                            </svg>
                            <input type="text" id="search" autocomplete="off" name="q" class="search-sidebar-input">
                        </div>
                        <button type="submit" class="search-sidebar-button">Szukaj</button>
                    </form>
            
                    <div class="page-sidebar-table-of-content">
                        <h2 class="visuallyhidden">Spis treści</h2>
                        <div class="page-sidebar-section">
                            <h3 class="page-sidebar-section-title noopen">
                                <a href="./index.html">Strona główna</a>
                            </h3>
                        </div>
            
                                    <div class="page-sidebar-section ">
                            <h3 class="page-sidebar-section-title">
                                <a href="#">Słowem wstępu</a>
                            </h3>
                            <div class="page-sidebar-list-cnt">
                                <ul class="page-sidebar-list">
                                    <li >
                                        <a href="./wstep.html">Wstęp</a>
                                    </li>
                                    <li >
                                        <a href="./co-to-jest-javascript.html">Co to jest JavaScript i z czym go się je?</a>
                                    </li>
                                    <li >
                                        <a href="./wymagania.html">Wymagania</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
            
                                    <div class="page-sidebar-section ">
                            <h3 class="page-sidebar-section-title">
                                <a href="#">Super podstawy</a>
                            </h3>
                            <div class="page-sidebar-list-cnt">
                                <ul class="page-sidebar-list">
                                    <li >
                                        <a href="./debuger.html">Debuger</a>
                                    </li>
                                    <li >
                                        <a href="./pierwszy-skrypt.html">Wstawiamy skrypty na naszą stronę</a>
                                    </li>
                                    <li >
                                        <a href="./strict-mode.html">Strict mode</a>
                                    </li>
                                    <li >
                                        <a href="./typy-danych.html">Typy danych i konwersja danych</a>
                                    </li>
                                    <li >
                                        <a href="./zmienne.html">Zmienne</a>
                                    </li>
                                    <li >
                                        <a href="./operatory.html">Operatory</a>
                                    </li>
                                    <li >
                                        <a href="./math.html">Obiekt Math</a>
                                    </li>
                                    <li >
                                        <a href="./string.html">String - teksty</a>
                                    </li>
                                    <li >
                                        <a href="./instrukcje-warunkowe.html">Instrukcje warunkowe</a>
                                    </li>
                                    <li >
                                        <a href="./petle.html">Pętle</a>
                                    </li>
                                    <li >
                                        <a href="./funkcje.html">Funkcje</a>
                                    </li>
                                    <li >
                                        <a href="./funkcje-tematy-dodatkowe.html">Funkcje - tematy dodatkowe</a>
                                    </li>
                                    <li >
                                        <a href="./tablice.html">Tablice</a>
                                    </li>
                                    <li >
                                        <a href="./tablice-iteracje.html">Tablice pętle</a>
                                    </li>
                                    <li >
                                        <a href="./debugowanie.html">Debugowanie kodu</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
            
                                    <div class="page-sidebar-section ">
                            <h3 class="page-sidebar-section-title">
                                <a href="#">Obiekty</a>
                            </h3>
                            <div class="page-sidebar-list-cnt">
                                <ul class="page-sidebar-list">
                                    <li >
                                        <a href="./obiekty.html">Obiekty i this</a>
                                    </li>
                                    <li >
                                        <a href="./obiekty-jak-to-dziala.html">Jak to działa</a>
                                    </li>
                                    <li >
                                        <a href="./obiekty-konstruktor.html">Konstruktor</a>
                                    </li>
                                    <li >
                                        <a href="./obiekty-zaawansowane-this.html">Zaawansowane this</a>
                                    </li>
                                    <li >
                                        <a href="./obiekty-dziedziczenie.html">Dziedziczenie w Javascript</a>
                                    </li>
                                    <li >
                                        <a href="./obiekty-inne-sposoby-tworzenia.html">Inne sposoby tworzenia obiektów</a>
                                    </li>
                                    <li >
                                        <a href="./obiekty-instanceof-hasownproperty.html">instanceof i hasOwnProperty</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
            
                                    <div class="page-sidebar-section ">
                            <h3 class="page-sidebar-section-title">
                                <a href="#">DOM i zdarzenia</a>
                            </h3>
                            <div class="page-sidebar-list-cnt">
                                <ul class="page-sidebar-list">
                                    <li >
                                        <a href="./dom.html">Document Object Model</a>
                                    </li>
                                    <li >
                                        <a href="./dom-wlasciwosci.html">Właściwości elementów</a>
                                    </li>
                                    <li >
                                        <a href="./dom-relacje.html">Relacje między elementami</a>
                                    </li>
                                    <li >
                                        <a href="./dom-tworzenie-i-usuwanie.html">Tworzenie i usuwanie elementów</a>
                                    </li>
                                    <li >
                                        <a href="./style.html">Style w CSS</a>
                                    </li>
                                    <li >
                                        <a href="./events.html">Zdarzenia</a>
                                    </li>
                                    <li >
                                        <a href="./events-keys.html">Zdarzenia - klawisze</a>
                                    </li>
                                    <li >
                                        <a href="./events-mouse.html">Zdarzenia - myszka</a>
                                    </li>
                                    <li >
                                        <a href="./projekt-todo.html">Projekt TODO</a>
                                    </li>
                                    <li >
                                        <a href="./slider.html">Tworzymy slider</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
            
            
                                    <div class="page-sidebar-section ">
                            <h3 class="page-sidebar-section-title">
                                <a href="#">Prawie podstawy</a>
                            </h3>
                            <div class="page-sidebar-list-cnt">
                                <ul class="page-sidebar-list">
                                    <li >
                                        <a href="./grafika-na-stronie.html">Grafika na stronie</a>
                                    </li>
                                    <li >
                                        <a href="./intervals.html">setTimeout i setInterval</a>
                                    </li>
                                    <li >
                                        <a href="./match-media.html">Praca z RWD</a>
                                    </li>
                                    <li >
                                        <a href="./okna-dialogowe.html">Okienka dialogowe</a>
                                    </li>
                                    <li >
                                        <a href="./okna.html">Tworzenie nowych okien</a>
                                    </li>
                                    <li >
                                        <a href="./date.html">Obiekt Date</a>
                                    </li>
                                    <li >
                                        <a href="./date-calendar.html">Tworzymy kalendarz</a>
                                    </li>
                                    <li >
                                        <a href="./cookie.html">Obiekt Cookie</a>
                                    </li>
                                    <li >
                                        <a href="./storage.html">Storage</a>
                                    </li>
                                    <li >
                                        <a href="./regular.html">Wyrażenia regularne</a>
                                    </li>
                                    <li >
                                        <a href="./formularze.html">Formularze</a>
                                    </li>
                                    <li >
                                        <a href="./formularze-walidacja.html">Formularze - walidacja</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
            
                                    <div class="page-sidebar-section show has-active-element">
                            <h3 class="page-sidebar-section-title">
                                <a href="#">Ajax</a>
                            </h3>
                            <div class="page-sidebar-list-cnt">
                                <ul class="page-sidebar-list">
                                    <li class="active">
                                        <a href="./ajax.html">AJAX, REST, JSON</a>
                                    </li>
                                    <li >
                                        <a href="./xmlhttprequest.html">XMLHttpRequest</a>
                                    </li>
                                    <li >
                                        <a href="./fetch.html">Fetch API</a>
                                    </li>
                                    <li >
                                        <a href="./formularz-kontaktowy.html">Dynamiczny formularz kontaktowy</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
            
                                    <div class="page-sidebar-section ">
                            <h3 class="page-sidebar-section-title">
                                <a href="#">Nowy Javascript</a>
                            </h3>
                            <div class="page-sidebar-list-cnt">
                                <ul class="page-sidebar-list">
                                    <li >
                                        <a href="./ecma-script-2015.html">ES6</a>
                                    </li>
                                    <li >
                                        <a href="./webpack.html">Webpack</a>
                                    </li>
            ./
                                        <a href="./obiekty-w-es6.html">Obiekty w ES6</a>
                                    </li>
                                    <li >
                                        <a href="./funkcja-strzalkowa.html">Funkcja strzałkowa</a>
                                    </li>
                                    <li >
                                        <a href="./spread-rest.html">Spread i rest</a>
                                    </li>
                                    <li >
                                        <a href="./template-strings.html">Template strings</a>
                                    </li>
                                    <li >
                                        <a href="./destructuring.html">Dekompozycja</a>
                                    </li>
                                    <li >
                                        <a href="./class.html">Klasy w ES6</a>
                                    </li>
                                    <li >
                                        <a href="./promises.html">Promises</a>
                                    </li>
                                    <li >
                                        <a href="./async-await.html">Async/Await</a>
                                    </li>
                                    <li >
                                        <a href="./symbole.html">Symbole</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
            
                                    <div class="page-sidebar-section ">
                            <h3 class="page-sidebar-section-title">
                                <a href="#">jQuery</a>
                            </h3>
                            <div class="page-sidebar-list-cnt">
                                <ul class="page-sidebar-list">
                                    <li >
                                        <a href="/kurs/jquery/jquery.html">jQuery</a>
                                    </li>
                                    <li >
                                        <a href="/kurs/jquery/animacje-w-jquery.html">Animacje w jQuery</a>
                                    </li>
                                    <li >
                                        <a href="/kurs/jquery/jquery-ajax.html">Ajax w jQuery</a>
                                    </li>
                                    <li >
                                        <a href="/kurs/jquery/tabs.html">Taby w jQuery</a>
                                    </li>
                                    <li >
                                        <a href="/kurs/jquery/plugin.html">Karuzela w jQuery</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
            
                                    <div class="page-sidebar-section ">
                            <h3 class="page-sidebar-section-title">
                                <a href="#">Canvas</a>
                            </h3>
                            <div class="page-sidebar-list-cnt">
                                <ul class="page-sidebar-list">
                                    <li >
                                        <a href="/kurs/canvas/canvas.html">Canvas</a>
                                    </li>
                                    <li >
                                        <a href="/kurs/canvas/canvas-images.html">Grafika w canvas</a>
                                    </li>
                                    <li >
                                    <a href="/kurs/canvas/canvas-paint.html">Praktycznie : Paint w canvas</a>
                                    </li>
            
                                    <li >
                                        <a href="/kurs/canvas/canvas-animacja.html">Animacja w canvas</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
            
                                    <div class="page-sidebar-section ">
                            <h3 class="page-sidebar-section-title">
                                <a href="#">Gry</a>
                            </h3>
                            <div class="page-sidebar-list-cnt">
                                <ul class="page-sidebar-list">
                                    <li >
                                        <a href="/kurs/gry/hangman/hangman.html">Szubienica</a>
                                    </li>
                                    <li >
                                        <a href="/kurs/gry/memory/memory.html">Memory</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
            
                                    <div class="page-sidebar-section ">
                            <h3 class="page-sidebar-section-title">
                                <a href="#">Inne</a>
                            </h3>
                            <div class="page-sidebar-list-cnt">
                                <ul class="page-sidebar-list">
                                    <li >
                                        <a href="/kurs/dodatkowe-materialy.html">Dodatkowe materiały</a>
                                    </li>
                                    <li >
                                        <a href="/kurs/faq.html">FAQ</a>
                                    </li>
                                    <li >
                                        <a href="/kurs/polityka-prywatnosci.html">Polityka prywatności</a>
                                    </li>
                                    <li >
                                        <a href="/kurs/autor.html">O autorze</a>
                                    </li>
                                    <li >
                                        <a href="/kurs/kontakt.html">Kontakt</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="page-sidebar-section">
                            <a class="special-link" href="/kurs/autor.html#donate">Wesprzyj kurs</a>
                        </div>
                    </div>
                </div>
            </aside></div><!-- e: page-container -->

<div class="popup" id="popupOptions">
	<div class="popup-inside">
        <div class="popup-container-cnt">
            <div class="popup-container">
                <button class="popup-close">Zamknij</button>

                <h2 class="popup-title">
                    Opcje
                </h2>

                <div class="popup-content">
                    <form class="form-options">
                        <div class="form-option">
                            <div class="form-row">
                                <div class="form-col">
                                    <label for="optionsThemeSelect">Wybierz skórkę dla listingów</label>
                                    <select id="optionsThemeSelect"></select>
                                </div>
                            </div>
                            <div class="form-row">
                                <pre><code class="language-js">
                                //tak będzie wyglądał kod

                                function test() {
                                    for (let i=0; i&lt;10; i++) {
                                        console.log("Tekst numer ", 1);
                                    }
                                }

                                test();
                                </code></pre>
                            </div>
                            <div class="form-row" id="themeLightModeRow">
                                <div class="form-col">
                                    <label for="themeLightMode">
                                        Tryb dzienny / nocny
                                    </label>

                                    <div class="light-mode-el">
                                        <input type="checkbox" id="themeLightMode">
                                        <span class="light-mode"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
	</div>
</div>
<script async defer src="https://www.googletagmanager.com/gtag/js?id=UA-38558970-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-38558970-5');
</script>

	<script src="/js/ads.js"></script>
	<script src="/js/script.min.js?v=0.13" defer></script>
</body>
</html>